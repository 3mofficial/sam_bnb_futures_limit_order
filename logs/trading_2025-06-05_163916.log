2025-06-05 16:39:16,248 - TradingBot - INFO - 日志初始化成功，当前日志文件: logs\trading_2025-06-05_163916.log
2025-06-05 16:39:16,248 - TradingBot - INFO - 交易程序启动，进入日内多次换仓模式
2025-06-05 16:39:16,583 - TradingBot - INFO - Binance 客户端初始化成功，测试网络: False
2025-06-05 16:39:16,908 - TradingBot - INFO - 所有交易对已是全仓模式 (CROSSED)，无需修改
2025-06-05 16:39:17,038 - TradingBot - INFO - 账户已是单币种模式 (Single)，无需修改
2025-06-05 16:39:17,181 - TradingBot - INFO - 账户已是单向模式 (One-way)，无需修改
2025-06-05 16:39:17,666 - TradingBot - INFO - 检查 20250605 的文件或邮件，Run_ID: 2025-06-05_163917
2025-06-05 16:39:17,666 - TradingBot - INFO - 检查本地文件: data/pos20250605_v3.csv
2025-06-05 16:39:17,667 - TradingBot - INFO - 本地找到文件 data/pos20250605_v3.csv，哈希: f2d6d69cc10d49563db93aaffd43c314，未处理，直接使用
2025-06-05 16:39:17,667 - TradingBot - INFO - 处理 20250605 的pos文件，Run_ID: 2025-06-05_163917
2025-06-05 16:39:17,667 - TradingBot - INFO - 🚀 开始执行交易引擎 | Date: 20250605 | RunID: 2025-06-05_163917
2025-06-05 16:39:17,785 - TradingBot - INFO - 当前没有未成交的挂单
2025-06-05 16:39:17,789 - TradingBot - INFO - 📋 黑名单过滤结果
├─ 被过滤币种 (7个): BADGERUSDT, BALUSDT, LINAUSDT, NULSUSDT, SNTUSDT, TROYUSDT, VIDTUSDT
└─ 剩余候选池: 166/173
2025-06-05 16:39:17,796 - TradingBot - INFO - 🔍 有效候选列表
├─ 多头候选: 83个
└─ 空头候选: 83个
2025-06-05 16:39:18,063 - TradingBot - INFO - =====账户信息获取成功: totalMarginBalance = 50.1928053, available_balance = 9.5794585=====
2025-06-05 16:39:18,064 - TradingBot - INFO - 每笔交易资金份额: per_share=3.2280575214285716
2025-06-05 16:39:18,182 - TradingBot - INFO - 获取到 13 个非零持仓
2025-06-05 16:39:18,182 - TradingBot - INFO - 当前持仓: {'DEXEUSDT': -0.97, 'ZECUSDT': -0.191, 'STXUSDT': 13.0, 'IOTAUSDT': 52.5, 'DENTUSDT': 12245.0, 'DOGEUSDT': -50.0, 'XLMUSDT': 36.0, 'AERGOUSDT': -70.0, 'BELUSDT': -31.0, 'STEEMUSDT': -70.0, 'GRTUSDT': 101.0, 'AUCTIONUSDT': -0.9, 'CKBUSDT': 2331.0}, 是否第一天: False
2025-06-05 16:39:18,384 - TradingBot - INFO - 交易所信息获取成功
2025-06-05 16:39:18,385 - TradingBot - WARNING - 交易对 MDTUSDT 不可交易，跳过
2025-06-05 16:39:18,385 - TradingBot - WARNING - 交易对 WAVESUSDT 不可交易，跳过
2025-06-05 16:39:18,385 - TradingBot - WARNING - 交易对 STRAXUSDT 不可交易，跳过
2025-06-05 16:39:18,385 - TradingBot - WARNING - 交易对 DGBUSDT 不可交易，跳过
2025-06-05 16:39:18,385 - TradingBot - WARNING - 交易对 SCUSDT 不可交易，跳过
2025-06-05 16:39:18,824 - TradingBot - WARNING - BTCUSDT 数量调整为 0 (原值: 0 小于最小值: 0.001)
2025-06-05 16:39:18,825 - TradingBot - WARNING - BTCUSDT 数量调整为 0 (因名义价值 0.0 小于最小值 100.0)
2025-06-05 16:39:18,825 - TradingBot - INFO - BTCUSDT 数量调整: 9.264712696932113e-05 -> 0, 最小值: 0.001, 最大值: 1000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:39:18,826 - TradingBot - WARNING - BTCUSDT 数量调整为 0，跳过
2025-06-05 16:39:19,261 - TradingBot - INFO - XMRUSDT 数量调整: 0.02912795910694413 -> 0.029, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.641630000000001, 真实保证金=3.213877, 数量精度=3
2025-06-05 16:39:19,262 - TradingBot - INFO - 添加多头目标: XMRUSDT, 数量=0.029
2025-06-05 16:39:19,263 - TradingBot - WARNING - 交易对 RENUSDT 不可交易，跳过
2025-06-05 16:39:19,745 - TradingBot - INFO - CKBUSDT 数量调整: 2394.1094102066045 -> 2394.0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=9.68373, 真实保证金=3.227910, 数量精度=0
2025-06-05 16:39:19,746 - TradingBot - INFO - 添加多头目标: CKBUSDT, 数量=2394.0
2025-06-05 16:39:20,233 - TradingBot - INFO - GRTUSDT 数量调整: 102.968341991342 -> 103.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=9.687149999999999, 真实保证金=3.229050, 数量精度=0
2025-06-05 16:39:20,234 - TradingBot - INFO - 添加多头目标: GRTUSDT, 数量=103.0
2025-06-05 16:39:20,655 - TradingBot - INFO - STXUSDT 数量调整: 12.92429275895598 -> 13.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.7409, 真实保证金=3.246967, 数量精度=0
2025-06-05 16:39:20,656 - TradingBot - INFO - 添加多头目标: STXUSDT, 数量=13.0
2025-06-05 16:39:21,098 - TradingBot - INFO - XLMUSDT 数量调整: 36.5426684437784 -> 37.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.805370000000002, 真实保证金=3.268457, 数量精度=0
2025-06-05 16:39:21,101 - TradingBot - INFO - 添加多头目标: XLMUSDT, 数量=37.0
2025-06-05 16:39:21,547 - TradingBot - INFO - DENTUSDT 数量调整: 13394.429549496148 -> 13394.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=9.683862, 真实保证金=3.227954, 数量精度=0
2025-06-05 16:39:21,550 - TradingBot - INFO - 添加多头目标: DENTUSDT, 数量=13394.0
2025-06-05 16:39:21,550 - TradingBot - WARNING - 交易对 UNFIUSDT 不可交易，跳过
2025-06-05 16:39:21,986 - TradingBot - INFO - IOTAUSDT 数量调整: 53.53329222932955 -> 53.5, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.67815, 真实保证金=3.226050, 数量精度=1
2025-06-05 16:39:21,988 - TradingBot - INFO - 添加多头目标: IOTAUSDT, 数量=53.5
2025-06-05 16:39:22,422 - TradingBot - INFO - BELUSDT 数量调整: 34.063216898648314 -> 34.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.6662, 真实保证金=3.222067, 数量精度=0
2025-06-05 16:39:22,424 - TradingBot - INFO - 添加空头目标: BELUSDT, 数量=-34.0
2025-06-05 16:39:22,853 - TradingBot - INFO - DEXEUSDT 数量调整: 0.9969294383658344 -> 1.0, 最小值: 0.01, 最大值: 800000.0, 名义价值=9.714, 真实保证金=3.238000, 数量精度=2
2025-06-05 16:39:22,855 - TradingBot - INFO - 添加空头目标: DEXEUSDT, 数量=-1.0
2025-06-05 16:39:23,293 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.9200239943269728 -> 0.92, 最小值: 0.01, 最大值: 100000.0, 名义价值=9.68392, 真实保证金=3.227973, 数量精度=2
2025-06-05 16:39:23,295 - TradingBot - INFO - 添加空头目标: AUCTIONUSDT, 数量=-0.92
2025-06-05 16:39:23,295 - TradingBot - WARNING - 交易对 OMGUSDT 不可交易，跳过
2025-06-05 16:39:23,705 - TradingBot - INFO - ZECUSDT 数量调整: 0.19414940986940085 -> 0.194, 最小值: 0.001, 最大值: 6000.0, 名义价值=9.676720000000001, 真实保证金=3.225573, 数量精度=3
2025-06-05 16:39:23,708 - TradingBot - INFO - 添加空头目标: ZECUSDT, 数量=-0.194
2025-06-05 16:39:23,708 - TradingBot - WARNING - 交易对 XEMUSDT 不可交易，跳过
2025-06-05 16:39:23,708 - TradingBot - WARNING - 交易对 FTTUSDT 不可交易，跳过
2025-06-05 16:39:24,109 - TradingBot - INFO - AERGOUSDT 数量调整: 75.63396254518679 -> 76.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=9.731039999999998, 真实保证金=3.243680, 数量精度=0
2025-06-05 16:39:24,111 - TradingBot - INFO - 添加空头目标: AERGOUSDT, 数量=-76.0
2025-06-05 16:39:24,636 - TradingBot - INFO - STEEMUSDT 数量调整: 71.48573532358245 -> 71.0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=9.61837, 真实保证金=3.206123, 数量精度=0
2025-06-05 16:39:24,638 - TradingBot - INFO - 添加空头目标: STEEMUSDT, 数量=-71.0
2025-06-05 16:39:24,638 - TradingBot - WARNING - 交易对 AMBUSDT 不可交易，跳过
2025-06-05 16:39:25,108 - TradingBot - INFO - DOGEUSDT 数量调整: 51.36402123838822 -> 51.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=9.615540000000001, 真实保证金=3.205180, 数量精度=0
2025-06-05 16:39:25,111 - TradingBot - INFO - 添加空头目标: DOGEUSDT, 数量=-51.0
2025-06-05 16:39:25,111 - TradingBot - INFO - 初始化目标持仓: {'XMRUSDT': 0.029, 'CKBUSDT': 2394.0, 'GRTUSDT': 103.0, 'STXUSDT': 13.0, 'XLMUSDT': 37.0, 'DENTUSDT': 13394.0, 'IOTAUSDT': 53.5, 'BELUSDT': -34.0, 'DEXEUSDT': -1.0, 'AUCTIONUSDT': -0.92, 'ZECUSDT': -0.194, 'AERGOUSDT': -76.0, 'STEEMUSDT': -71.0, 'DOGEUSDT': -51.0}
2025-06-05 16:39:25,317 - TradingBot - INFO - 获取到 13 个非零持仓
2025-06-05 16:39:25,319 - TradingBot - INFO - ==================== 开始持续限价单调仓 ====================
2025-06-05 16:39:25,319 - TradingBot - INFO - 开始第 1 轮调仓...
2025-06-05 16:39:25,528 - TradingBot - INFO - 第 1 轮开始时可用余额: 9.5742256
2025-06-05 16:39:25,673 - TradingBot - INFO - 第 1 轮开仓前可用余额: 9.5742256, 开仓需求: {'AERGOUSDT': -6.0, 'XLMUSDT': 1.0, 'STEEMUSDT': -1.0, 'XMRUSDT': 0.029, 'GRTUSDT': 2.0, 'DENTUSDT': 1149.0, 'BELUSDT': -3.0, 'CKBUSDT': 63.0, 'DOGEUSDT': -1.0, 'AUCTIONUSDT': -0.020000000000000018, 'DEXEUSDT': -0.030000000000000027, 'ZECUSDT': -0.0030000000000000027, 'IOTAUSDT': 1.0}
2025-06-05 16:39:25,675 - TradingBot - INFO - 第 1 轮: 处理开仓 AERGOUSDT SELL, 需求数量=-6.0
2025-06-05 16:39:26,088 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 0.76866 小于最小值 5.0)
2025-06-05 16:39:26,089 - TradingBot - INFO - AERGOUSDT 数量调整: 6.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:26,090 - TradingBot - INFO - 第 1 轮: AERGOUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:26,091 - TradingBot - WARNING - 第 1 轮: AERGOUSDT 调整数量为 0，跳过
2025-06-05 16:39:26,091 - TradingBot - INFO - 第 1 轮: 处理开仓 XLMUSDT BUY, 需求数量=1.0
2025-06-05 16:39:26,515 - TradingBot - WARNING - XLMUSDT 数量调整为 0 (因名义价值 0.2651 小于最小值 5.0)
2025-06-05 16:39:26,516 - TradingBot - INFO - XLMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:26,517 - TradingBot - INFO - 第 1 轮: XLMUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:26,517 - TradingBot - WARNING - 第 1 轮: XLMUSDT 调整数量为 0，跳过
2025-06-05 16:39:26,517 - TradingBot - INFO - 第 1 轮: 处理开仓 STEEMUSDT SELL, 需求数量=-1.0
2025-06-05 16:39:26,941 - TradingBot - WARNING - STEEMUSDT 数量调整为 0 (因名义价值 0.13545000000000001 小于最小值 5.0)
2025-06-05 16:39:26,941 - TradingBot - INFO - STEEMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:26,944 - TradingBot - INFO - 第 1 轮: STEEMUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:26,944 - TradingBot - WARNING - 第 1 轮: STEEMUSDT 调整数量为 0，跳过
2025-06-05 16:39:26,944 - TradingBot - INFO - 第 1 轮: 处理开仓 XMRUSDT BUY, 需求数量=0.029
2025-06-05 16:39:27,402 - TradingBot - INFO - XMRUSDT 数量调整: 0.029 -> 0.029, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.64598, 真实保证金=3.215327, 数量精度=3
2025-06-05 16:39:27,404 - TradingBot - INFO - 第 1 轮: XMRUSDT 开仓调整后数量=0.029, is_reverse_open=False
2025-06-05 16:39:27,404 - TradingBot - INFO - 第 1 轮: XMRUSDT 开仓保证金需求=3.2153266666666664, 可用余额=9.5742256
2025-06-05 16:39:27,513 - TradingBot - INFO - 第 1 轮: 准备开仓挂单 XMRUSDT BUY, 数量=0.029, 价格=332.62, is_close=False
2025-06-05 16:39:27,731 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:39:27,732 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=False
2025-06-05 16:39:28,125 - TradingBot - INFO - XMRUSDT postonly 挂单成功: 方向=BUY, 数量=0.029, 价格=332.62, 订单ID=12463215800, is_close=False, reduceOnly=False
2025-06-05 16:39:28,239 - TradingBot - INFO - 第 1 轮: XMRUSDT 开仓挂单结果 success=True, order_id=12463215800, order={'orderId': 12463215800, 'symbol': 'XMRUSDT', 'status': 'NEW', 'clientOrderId': 'x-Cb7ytekJb64a218095e4de5b68663', 'price': '332.62', 'avgPrice': '0.00', 'origQty': '0.029', 'executedQty': '0.000', 'cumQty': '0.000', 'cumQuote': '0.00000', 'timeInForce': 'GTX', 'type': 'LIMIT', 'reduceOnly': False, 'closePosition': False, 'side': 'BUY', 'positionSide': 'BOTH', 'stopPrice': '0.00', 'workingType': 'CONTRACT_PRICE', 'priceProtect': False, 'origType': 'LIMIT', 'priceMatch': 'NONE', 'selfTradePreventionMode': 'EXPIRE_MAKER', 'goodTillDate': 0, 'updateTime': 1749112768817}
2025-06-05 16:39:28,240 - TradingBot - INFO - 第 1 轮: XMRUSDT BUY postOnly 开仓挂单成功，订单ID=12463215800, is_close=False
2025-06-05 16:39:28,241 - TradingBot - INFO - 第 1 轮: XMRUSDT 开仓后更新余额: 6.358898933333334
2025-06-05 16:39:28,241 - TradingBot - INFO - 第 1 轮: 处理开仓 GRTUSDT BUY, 需求数量=2.0
2025-06-05 16:39:28,655 - TradingBot - WARNING - GRTUSDT 数量调整为 0 (因名义价值 0.18814 小于最小值 5.0)
2025-06-05 16:39:28,655 - TradingBot - INFO - GRTUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:28,656 - TradingBot - INFO - 第 1 轮: GRTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:28,656 - TradingBot - WARNING - 第 1 轮: GRTUSDT 调整数量为 0，跳过
2025-06-05 16:39:28,657 - TradingBot - INFO - 第 1 轮: 处理开仓 DENTUSDT BUY, 需求数量=1149.0
2025-06-05 16:39:29,066 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.831876 小于最小值 5.0)
2025-06-05 16:39:29,066 - TradingBot - INFO - DENTUSDT 数量调整: 1149.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:29,068 - TradingBot - INFO - 第 1 轮: DENTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:29,068 - TradingBot - WARNING - 第 1 轮: DENTUSDT 调整数量为 0，跳过
2025-06-05 16:39:29,068 - TradingBot - INFO - 第 1 轮: 处理开仓 BELUSDT SELL, 需求数量=-3.0
2025-06-05 16:39:29,482 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.8532 小于最小值 5.0)
2025-06-05 16:39:29,482 - TradingBot - INFO - BELUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:29,483 - TradingBot - INFO - 第 1 轮: BELUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:29,483 - TradingBot - WARNING - 第 1 轮: BELUSDT 调整数量为 0，跳过
2025-06-05 16:39:29,483 - TradingBot - INFO - 第 1 轮: 处理开仓 CKBUSDT BUY, 需求数量=63.0
2025-06-05 16:39:29,945 - TradingBot - WARNING - CKBUSDT 数量调整为 0 (因名义价值 0.254961 小于最小值 5.0)
2025-06-05 16:39:29,945 - TradingBot - INFO - CKBUSDT 数量调整: 63.0 -> 0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:29,947 - TradingBot - INFO - 第 1 轮: CKBUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:29,947 - TradingBot - WARNING - 第 1 轮: CKBUSDT 调整数量为 0，跳过
2025-06-05 16:39:29,947 - TradingBot - INFO - 第 1 轮: 处理开仓 DOGEUSDT SELL, 需求数量=-1.0
2025-06-05 16:39:30,358 - TradingBot - WARNING - DOGEUSDT 数量调整为 0 (因名义价值 0.18852000000000002 小于最小值 5.0)
2025-06-05 16:39:30,358 - TradingBot - INFO - DOGEUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:39:30,360 - TradingBot - INFO - 第 1 轮: DOGEUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:30,361 - TradingBot - WARNING - 第 1 轮: DOGEUSDT 调整数量为 0，跳过
2025-06-05 16:39:30,361 - TradingBot - INFO - 第 1 轮: 处理开仓 AUCTIONUSDT SELL, 需求数量=-0.020000000000000018
2025-06-05 16:39:31,037 - TradingBot - WARNING - AUCTIONUSDT 数量调整为 0 (因名义价值 0.21050000000000002 小于最小值 5.0)
2025-06-05 16:39:31,038 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 100000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:39:31,038 - TradingBot - INFO - 第 1 轮: AUCTIONUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:31,040 - TradingBot - WARNING - 第 1 轮: AUCTIONUSDT 调整数量为 0，跳过
2025-06-05 16:39:31,040 - TradingBot - INFO - 第 1 轮: 处理开仓 DEXEUSDT SELL, 需求数量=-0.030000000000000027
2025-06-05 16:39:31,775 - TradingBot - WARNING - DEXEUSDT 数量调整为 0 (因名义价值 0.29172 小于最小值 5.0)
2025-06-05 16:39:31,775 - TradingBot - INFO - DEXEUSDT 数量调整: 0.030000000000000027 -> 0, 最小值: 0.01, 最大值: 800000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:39:31,776 - TradingBot - INFO - 第 1 轮: DEXEUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:31,778 - TradingBot - WARNING - 第 1 轮: DEXEUSDT 调整数量为 0，跳过
2025-06-05 16:39:31,778 - TradingBot - INFO - 第 1 轮: 处理开仓 ZECUSDT SELL, 需求数量=-0.0030000000000000027
2025-06-05 16:39:32,276 - TradingBot - WARNING - ZECUSDT 数量调整为 0 (因名义价值 0.14964000000000002 小于最小值 5.0)
2025-06-05 16:39:32,276 - TradingBot - INFO - ZECUSDT 数量调整: 0.0030000000000000027 -> 0, 最小值: 0.001, 最大值: 6000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:39:32,278 - TradingBot - INFO - 第 1 轮: ZECUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:32,279 - TradingBot - WARNING - 第 1 轮: ZECUSDT 调整数量为 0，跳过
2025-06-05 16:39:32,279 - TradingBot - INFO - 第 1 轮: 处理开仓 IOTAUSDT BUY, 需求数量=1.0
2025-06-05 16:39:32,777 - TradingBot - WARNING - IOTAUSDT 数量调整为 0 (因名义价值 0.1809 小于最小值 5.0)
2025-06-05 16:39:32,777 - TradingBot - INFO - IOTAUSDT 数量调整: 1.0 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-05 16:39:32,779 - TradingBot - INFO - 第 1 轮: IOTAUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:39:32,779 - TradingBot - WARNING - 第 1 轮: IOTAUSDT 调整数量为 0，跳过
2025-06-05 16:39:32,779 - TradingBot - INFO - 第 1 轮挂单等待，最多 30 秒...
2025-06-05 16:40:02,999 - TradingBot - INFO - 第 1 轮结束，取消所有未成交挂单...
2025-06-05 16:40:03,245 - TradingBot - INFO - 第 1 轮: 发现 1 个未成交订单
2025-06-05 16:40:03,471 - TradingBot - INFO - 成功取消 XMRUSDT 订单，订单ID=12463215800
2025-06-05 16:40:03,471 - TradingBot - INFO - 第 1 轮: 成功取消 XMRUSDT BUY 挂单，订单ID=12463215800
2025-06-05 16:40:03,669 - TradingBot - INFO - 获取到 13 个非零持仓
2025-06-05 16:40:04,405 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 0.7702200000000001 小于最小值 5.0)
2025-06-05 16:40:04,406 - TradingBot - INFO - AERGOUSDT 数量调整: 6.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:04,407 - TradingBot - INFO - 第 1 轮: AERGOUSDT 差值 -6.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:04,995 - TradingBot - WARNING - XLMUSDT 数量调整为 0 (因名义价值 0.265 小于最小值 5.0)
2025-06-05 16:40:04,995 - TradingBot - INFO - XLMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:04,997 - TradingBot - INFO - 第 1 轮: XLMUSDT 差值 1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:05,631 - TradingBot - WARNING - STEEMUSDT 数量调整为 0 (因名义价值 0.13544 小于最小值 5.0)
2025-06-05 16:40:05,631 - TradingBot - INFO - STEEMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:05,633 - TradingBot - INFO - 第 1 轮: STEEMUSDT 差值 -1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:06,411 - TradingBot - INFO - XMRUSDT 数量调整: 0.029 -> 0.029, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.65352, 真实保证金=3.217840, 数量精度=3
2025-06-05 16:40:06,871 - TradingBot - WARNING - GRTUSDT 数量调整为 0 (因名义价值 0.18814 小于最小值 5.0)
2025-06-05 16:40:06,871 - TradingBot - INFO - GRTUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:06,873 - TradingBot - INFO - 第 1 轮: GRTUSDT 差值 2.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:07,302 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.8318760000000001 小于最小值 5.0)
2025-06-05 16:40:07,302 - TradingBot - INFO - DENTUSDT 数量调整: 1149.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:07,303 - TradingBot - INFO - 第 1 轮: DENTUSDT 差值 1149.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:07,733 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.8529 小于最小值 5.0)
2025-06-05 16:40:07,733 - TradingBot - INFO - BELUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:07,734 - TradingBot - INFO - 第 1 轮: BELUSDT 差值 -3.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:08,245 - TradingBot - WARNING - CKBUSDT 数量调整为 0 (因名义价值 0.254898 小于最小值 5.0)
2025-06-05 16:40:08,245 - TradingBot - INFO - CKBUSDT 数量调整: 63.0 -> 0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:08,246 - TradingBot - INFO - 第 1 轮: CKBUSDT 差值 63.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:08,751 - TradingBot - WARNING - DOGEUSDT 数量调整为 0 (因名义价值 0.18846 小于最小值 5.0)
2025-06-05 16:40:08,752 - TradingBot - INFO - DOGEUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:40:08,753 - TradingBot - INFO - 第 1 轮: DOGEUSDT 差值 -1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:09,160 - TradingBot - WARNING - AUCTIONUSDT 数量调整为 0 (因名义价值 0.2104 小于最小值 5.0)
2025-06-05 16:40:09,160 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 100000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:40:09,161 - TradingBot - INFO - 第 1 轮: AUCTIONUSDT 差值 -0.020000000000000018 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:09,583 - TradingBot - WARNING - DEXEUSDT 数量调整为 0 (因名义价值 0.29199 小于最小值 5.0)
2025-06-05 16:40:09,583 - TradingBot - INFO - DEXEUSDT 数量调整: 0.030000000000000027 -> 0, 最小值: 0.01, 最大值: 800000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:40:09,584 - TradingBot - INFO - 第 1 轮: DEXEUSDT 差值 -0.030000000000000027 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:10,093 - TradingBot - WARNING - ZECUSDT 数量调整为 0 (因名义价值 0.14961 小于最小值 5.0)
2025-06-05 16:40:10,094 - TradingBot - INFO - ZECUSDT 数量调整: 0.0030000000000000027 -> 0, 最小值: 0.001, 最大值: 6000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:40:10,095 - TradingBot - INFO - 第 1 轮: ZECUSDT 差值 -0.0030000000000000027 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:10,494 - TradingBot - WARNING - IOTAUSDT 数量调整为 0 (因名义价值 0.1809 小于最小值 5.0)
2025-06-05 16:40:10,494 - TradingBot - INFO - IOTAUSDT 数量调整: 1.0 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-05 16:40:10,496 - TradingBot - INFO - 第 1 轮: IOTAUSDT 差值 1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:40:10,496 - TradingBot - INFO - 第 1 轮完成，剩余需求: {'XMRUSDT': 0.029}
2025-06-05 16:40:10,496 - TradingBot - INFO - 开始第 2 轮调仓...
2025-06-05 16:40:10,616 - TradingBot - INFO - 第 2 轮开始时可用余额: 9.54550559
2025-06-05 16:40:10,724 - TradingBot - INFO - 第 2 轮开仓前可用余额: 9.54550559, 开仓需求: {'XMRUSDT': 0.029}
2025-06-05 16:40:10,724 - TradingBot - INFO - 第 2 轮: 处理开仓 XMRUSDT BUY, 需求数量=0.029
2025-06-05 16:40:11,125 - TradingBot - INFO - XMRUSDT 数量调整: 0.029 -> 0.029, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.65845, 真实保证金=3.219483, 数量精度=3
2025-06-05 16:40:11,128 - TradingBot - INFO - 第 2 轮: XMRUSDT 开仓调整后数量=0.029, is_reverse_open=False
2025-06-05 16:40:11,128 - TradingBot - INFO - 第 2 轮: XMRUSDT 开仓保证金需求=3.2194833333333333, 可用余额=9.54550559
2025-06-05 16:40:11,248 - TradingBot - INFO - 第 2 轮: 准备开仓挂单 XMRUSDT BUY, 数量=0.029, 价格=333.05, is_close=False
2025-06-05 16:40:11,363 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:40:11,363 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=False
2025-06-05 16:40:11,793 - TradingBot - INFO - XMRUSDT postonly 挂单成功: 方向=BUY, 数量=0.029, 价格=333.05, 订单ID=12463218297, is_close=False, reduceOnly=False
2025-06-05 16:40:11,916 - TradingBot - INFO - 第 2 轮: XMRUSDT 开仓挂单结果 success=True, order_id=12463218297, order={'orderId': 12463218297, 'symbol': 'XMRUSDT', 'status': 'NEW', 'clientOrderId': 'x-Cb7ytekJfcb1d7b048d0437c004298', 'price': '333.05', 'avgPrice': '0.00', 'origQty': '0.029', 'executedQty': '0.000', 'cumQty': '0.000', 'cumQuote': '0.00000', 'timeInForce': 'GTX', 'type': 'LIMIT', 'reduceOnly': False, 'closePosition': False, 'side': 'BUY', 'positionSide': 'BOTH', 'stopPrice': '0.00', 'workingType': 'CONTRACT_PRICE', 'priceProtect': False, 'origType': 'LIMIT', 'priceMatch': 'NONE', 'selfTradePreventionMode': 'EXPIRE_MAKER', 'goodTillDate': 0, 'updateTime': 1749112812488}
2025-06-05 16:40:11,917 - TradingBot - INFO - 第 2 轮: XMRUSDT BUY postOnly 开仓挂单成功，订单ID=12463218297, is_close=False
2025-06-05 16:40:11,917 - TradingBot - INFO - 第 2 轮: XMRUSDT 开仓后更新余额: 6.326022256666667
2025-06-05 16:40:11,917 - TradingBot - INFO - 第 2 轮挂单等待，最多 30 秒...
2025-06-05 16:40:16,574 - TradingBot - INFO - 第 2 轮: XMRUSDT BUY 单已成交，订单ID=12463218297, 成交数量=0.029, 均价=333.05
2025-06-05 16:40:16,575 - TradingBot - INFO - 第 2 轮: XMRUSDT BUY 已完全成交，订单ID=12463218297, 成交数量=0.029
2025-06-05 16:40:16,575 - TradingBot - INFO - 第 2 轮所有挂单已处理完成，提前结束等待
2025-06-05 16:40:16,757 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:40:16,757 - TradingBot - INFO - 第 2 轮完成，剩余需求: {}
2025-06-05 16:40:16,758 - TradingBot - INFO - 第 2 轮后所有目标已达成，结束限价单调仓
2025-06-05 16:40:16,758 - TradingBot - INFO - ==================== 市价单补齐：后续调仓 ====================
2025-06-05 16:40:16,905 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:40:16,905 - TradingBot - INFO - 市价单补齐：所有目标已达成，无需补齐
2025-06-05 16:40:17,023 - TradingBot - INFO - 准备保存 14 条持仓记录，Run_ID=2025-06-05_163917, 调仓日期=2025-06-05
2025-06-05 16:40:17,029 - TradingBot - INFO - 持仓数据已保存到 data/positions_output.csv，合并后记录数: 28
2025-06-05 16:40:17,039 - TradingBot - INFO - 验证: data/positions_output.csv 中 Run_ID=2025-06-05_163917 的记录数: 14
2025-06-05 16:40:38,414 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250605_164038.json
2025-06-05 16:40:38,414 - TradingBot - INFO - 开始计算手续费和已实现盈亏...
2025-06-05 16:40:38,414 - TradingBot - INFO - 使用实际交易时间戳: start_time=1749112757667, end_time=1749112817040
2025-06-05 16:40:38,415 - TradingBot - INFO - 开始获取手续费记录: start_time=1749112757667, end_time=1749112817040, limit=1000
2025-06-05 16:40:38,588 - TradingBot - INFO - 已获取 1 条手续费记录，总计 1 条
2025-06-05 16:40:38,588 - TradingBot - INFO - 获取到 1 条手续费记录
2025-06-05 16:40:38,589 - TradingBot - INFO - 手续费汇总 (trade_commission_summary_2025-06-05): 0.00193169 USDT, 记录数: 1
2025-06-05 16:40:38,589 - TradingBot - INFO - 手续费计算结果: {'value': 0.00193169, 'description': '买卖交易手续费总和', 'date': '2025-06-05_16:40:38', 'records_count': 1}
2025-06-05 16:40:38,589 - TradingBot - INFO - 使用实际交易时间戳: start_time=1749112757667, end_time=1749112817040
2025-06-05 16:40:38,589 - TradingBot - INFO - 获取已实现盈亏记录，时间范围: 1749112757667 (2025-06-05 16:39:17.667000) - 1749112817040 (2025-06-05 16:40:17.040000)
2025-06-05 16:40:38,793 - TradingBot - INFO - Total realized P&L records fetched: 0
2025-06-05 16:40:38,793 - TradingBot - INFO - 获取到 0 条已实现盈亏记录
2025-06-05 16:40:38,793 - TradingBot - INFO - Calculated total realized PNL in USDT: 0
2025-06-05 16:40:38,794 - TradingBot - INFO - Processed realized PnL for 2025-06-05. Total: 0 USDT, Records: 0
2025-06-05 16:40:38,794 - TradingBot - INFO - 已实现盈亏计算结果: {'value': 0, 'description': '买卖交易已实现盈亏总和', 'date': '2025-06-05_16:40:38', 'records_count': 0}
2025-06-05 16:40:38,794 - TradingBot - INFO - 账户信息JSON文件生成已禁用
2025-06-05 16:40:38,811 - TradingBot - INFO - 加载 account_metrics.xlsx 成功，记录数: 14
2025-06-05 16:40:38,814 - TradingBot - INFO - 找到 1 条 after_trade_balance 记录
2025-06-05 16:40:38,820 - TradingBot - INFO - 找到上一次记录: Record_Time=2025-06-05 16:31:52, Run_ID=2025-06-05_163030, after_trade_balance=50.14987465
2025-06-05 16:40:38,821 - TradingBot - INFO - Pre-rebalance return: 0.085605%
2025-06-05 16:40:38,821 - TradingBot - INFO - Post-rebalance return: -0.072162%
2025-06-05 16:40:39,459 - TradingBot - INFO - 成功写入 14 条指标到 data/account_metrics.xlsx，Run_ID=2025-06-05_163917
2025-06-05 16:40:39,459 - TradingBot - INFO - ✅ 交易引擎执行完成 | RunID: 2025-06-05_163917
2025-06-05 16:40:39,459 - TradingBot - INFO - 当前日期: 2025-06-05, Run_ID: 2025-06-05_163917
2025-06-05 16:40:39,465 - TradingBot - INFO - 读取 data/positions_output.csv，去重后包含 28 条记录
2025-06-05 16:40:39,466 - TradingBot - INFO - 所有 Run_ID: ['2025-06-05_163030', '2025-06-05_163917']
2025-06-05 16:40:39,466 - TradingBot - INFO - 所有调仓日期: ['2025-06-05']
2025-06-05 16:40:39,466 - TradingBot - INFO - 找到 14 条 Run_ID=2025-06-05_163917 或日期=2025-06-05 的记录
2025-06-05 16:40:39,467 - TradingBot - INFO - 已提取所需字段的持仓数据
2025-06-05 16:40:39,467 - TradingBot - INFO - 正持仓数量: 7, 负持仓数量: 7
2025-06-05 16:40:39,469 - TradingBot - INFO - 资金费率文件 data/pos20250605_v3.csv 已加载，去重后包含 173 条记录
2025-06-05 16:40:39,470 - TradingBot - INFO - 已为 7 个黑名单币种设置 ErrorReason: 黑名单过滤
2025-06-05 16:40:39,471 - TradingBot - INFO - 已为 24 个币种映射其他错误原因
2025-06-05 16:40:39,475 - TradingBot - INFO - 正持仓资金费率数据已筛选，最大 id: 16
2025-06-05 16:40:39,478 - TradingBot - INFO - 正持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-05 16:40:39,479 - TradingBot - INFO - 负持仓资金费率数据已筛选，最小 id: 163
2025-06-05 16:40:39,482 - TradingBot - INFO - 负持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-05 16:40:39,484 - TradingBot - INFO - 正负持仓结果已合并
2025-06-05 16:40:39,530 - TradingBot - INFO - 分析结果已去重并追加写入文件: data/position_analysis.xlsx，记录数: 54
2025-06-05 16:40:39,541 - TradingBot - INFO - 唯一日期数量为 1，少于3天，不执行可视化
2025-06-05 16:40:39,557 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-06-05 16:40:39,557 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-06-05_account_metrics_data_visualization.pdf
2025-06-05 16:40:39,571 - TradingBot - INFO - 尝试使用QQ邮箱连接到 smtp.qq.com:465 (第 1/3)
2025-06-05 16:40:39,788 - TradingBot - INFO - 连接成功，开始登录
2025-06-05 16:40:40,733 - TradingBot - INFO - QQ邮箱邮件发送成功！
2025-06-05 16:40:40,781 - TradingBot - INFO - 20250605 交易完成，Run_ID: 2025-06-05_163917
2025-06-05 16:40:40,781 - TradingBot - INFO - 记录已处理文件 data/pos20250605_v3.csv，哈希: f2d6d69cc10d49563db93aaffd43c314，Run_ID: 2025-06-05_163917
2025-06-05 16:40:40,781 - TradingBot - INFO - 交易完成后等待 10 分钟
