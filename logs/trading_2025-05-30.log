D:\anaconda\python.exe D:\sam_bnb_futures_limit_order\main_sam_new.py
2025-05-30 16:03:27,957 - TradingBot - INFO - 日志初始化成功，当前日志文件: logs\trading_2025-05-30.log
2025-05-30 16:03:27,958 - TradingBot - INFO - 交易程序启动，进入日内多次换仓模式
2025-05-30 16:03:28,018 - TradingBot - INFO - 初始化空分析文件: data/position_analysis.xlsx
2025-05-30 16:03:28,308 - TradingBot - INFO - Binance 客户端初始化成功，测试网络: False
2025-05-30 16:03:28,602 - TradingBot - INFO - 所有交易对已是全仓模式 (CROSSED)，无需修改
2025-05-30 16:03:28,811 - TradingBot - INFO - 账户已是单币种模式 (Single)，无需修改
2025-05-30 16:03:29,029 - TradingBot - INFO - 账户已是单向模式 (One-way)，无需修改
2025-05-30 16:03:29,035 - TradingBot - INFO - 初始化空持仓文件: data/positions_output.csv
2025-05-30 16:03:29,035 - TradingBot - INFO - 检查 20250530 的文件或邮件，Run_ID: 2025-05-30_160329
2025-05-30 16:03:29,035 - TradingBot - INFO - 检查本地文件: data/pos20250530_v3.csv
2025-05-30 16:03:29,036 - TradingBot - INFO - 本地找到文件 data/pos20250530_v3.csv，哈希: 2fd5f461de1ee0e3813c1573e05a1290，未处理，直接使用
2025-05-30 16:03:29,036 - TradingBot - INFO - 处理 20250530 的pos文件，Run_ID: 2025-05-30_160329
2025-05-30 16:03:29,036 - TradingBot - INFO - 🚀 开始执行交易引擎 | Date: 20250530 | RunID: 2025-05-30_160329
2025-05-30 16:03:29,171 - TradingBot - INFO - 当前没有未成交的挂单
2025-05-30 16:03:29,179 - TradingBot - INFO - 📋 黑名单过滤结果
├─ 被过滤币种 (7个): BADGERUSDT, BALUSDT, LINAUSDT, NULSUSDT, SNTUSDT, TROYUSDT, VIDTUSDT
└─ 剩余候选池: 166/173
2025-05-30 16:03:29,189 - TradingBot - INFO - 🔍 有效候选列表
├─ 多头候选: 85个
└─ 空头候选: 81个
2025-05-30 16:03:29,497 - TradingBot - INFO - =====账户信息获取成功: totalMarginBalance = 48.77850694, available_balance = 6.44574372=====
2025-05-30 16:03:29,497 - TradingBot - INFO - 每笔交易资金份额: per_share=3.12703621
2025-05-30 16:03:29,610 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:03:29,610 - TradingBot - INFO - 当前持仓: {'LRCUSDT': 103.0, 'FILUSDT': -3.5, 'DENTUSDT': 12142.0, 'ONGUSDT': 49.0, 'SXPUSDT': 50.1, 'XMRUSDT': -0.028, 'ARKUSDT': -24.0, 'AERGOUSDT': -60.0, 'BELUSDT': -30.0, 'SFPUSDT': 18.0, 'RLCUSDT': 8.7, 'DFUSDT': -177.0, 'CTKUSDT': -28.0, 'SUNUSDT': 484.0}, 是否第一天: False
2025-05-30 16:03:29,772 - TradingBot - INFO - 交易所信息获取成功
2025-05-30 16:03:30,177 - TradingBot - INFO - RLCUSDT 数量调整: 8.823465603837473 -> 8.8, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.356160000000001, 真实保证金=3.118720, 数量精度=1
2025-05-30 16:03:30,178 - TradingBot - INFO - 添加多头目标: RLCUSDT, 数量=8.8
2025-05-30 16:03:30,689 - TradingBot - INFO - DENTUSDT 数量调整: 12524.844632843791 -> 12525.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=9.381225, 真实保证金=3.127075, 数量精度=0
2025-05-30 16:03:30,690 - TradingBot - INFO - 添加多头目标: DENTUSDT, 数量=12525.0
2025-05-30 16:03:31,091 - TradingBot - INFO - ONGUSDT 数量调整: 50.591105160977186 -> 51.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=9.45693, 真实保证金=3.152310, 数量精度=0
2025-05-30 16:03:31,092 - TradingBot - INFO - 添加多头目标: ONGUSDT, 数量=51.0
2025-05-30 16:03:31,578 - TradingBot - INFO - SFPUSDT 数量调整: 17.865375414206817 -> 18.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.4518, 真实保证金=3.150600, 数量精度=0
2025-05-30 16:03:31,579 - TradingBot - INFO - 添加多头目标: SFPUSDT, 数量=18.0
2025-05-30 16:03:31,978 - TradingBot - INFO - LRCUSDT 数量调整: 105.72645813140988 -> 106.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.405380000000001, 真实保证金=3.135127, 数量精度=0
2025-05-30 16:03:31,980 - TradingBot - INFO - 添加多头目标: LRCUSDT, 数量=106.0
2025-05-30 16:03:32,375 - TradingBot - INFO - SUNUSDT 数量调整: 492.05919905586154 -> 492.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=9.37998, 真实保证金=3.126660, 数量精度=0
2025-05-30 16:03:32,376 - TradingBot - INFO - 添加多头目标: SUNUSDT, 数量=492.0
2025-05-30 16:03:32,782 - TradingBot - INFO - SXPUSDT 数量调整: 51.85798026533997 -> 51.9, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.38871, 真实保证金=3.129570, 数量精度=1
2025-05-30 16:03:32,783 - TradingBot - INFO - 添加多头目标: SXPUSDT, 数量=51.9
2025-05-30 16:03:33,186 - TradingBot - INFO - ARKUSDT 数量调整: 24.923242906482464 -> 25.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.41, 真实保证金=3.136667, 数量精度=0
2025-05-30 16:03:33,186 - TradingBot - INFO - 添加空头目标: ARKUSDT, 数量=-25.0
2025-05-30 16:03:33,186 - TradingBot - WARNING - 交易对 FTTUSDT 不可交易，跳过
2025-05-30 16:03:33,186 - TradingBot - WARNING - 交易对 XEMUSDT 不可交易，跳过
2025-05-30 16:03:33,186 - TradingBot - WARNING - 交易对 STPTUSDT 不可交易，跳过
2025-05-30 16:03:33,591 - TradingBot - INFO - CTKUSDT 数量调整: 28.444841206791995 -> 28.0, 最小值: 1.0, 最大值: 2500000.0, 名义价值=9.234399999999999, 真实保证金=3.078133, 数量精度=0
2025-05-30 16:03:33,592 - TradingBot - INFO - 添加空头目标: CTKUSDT, 数量=-28.0
2025-05-30 16:03:33,592 - TradingBot - WARNING - 交易对 BLZUSDT 不可交易，跳过
2025-05-30 16:03:33,592 - TradingBot - WARNING - 交易对 AMBUSDT 不可交易，跳过
2025-05-30 16:03:33,995 - TradingBot - INFO - AERGOUSDT 数量调整: 69.89352279839069 -> 70.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=9.3954, 真实保证金=3.131800, 数量精度=0
2025-05-30 16:03:33,997 - TradingBot - INFO - 添加空头目标: AERGOUSDT, 数量=-70.0
2025-05-30 16:03:33,997 - TradingBot - WARNING - 交易对 UNFIUSDT 不可交易，跳过
2025-05-30 16:03:33,997 - TradingBot - WARNING - 交易对 FTMUSDT 不可交易，跳过
2025-05-30 16:03:33,997 - TradingBot - WARNING - 交易对 STRAXUSDT 不可交易，跳过
2025-05-30 16:03:33,997 - TradingBot - WARNING - 交易对 WAVESUSDT 不可交易，跳过
2025-05-30 16:03:34,412 - TradingBot - INFO - DFUSDT 数量调整: 197.41390214646464 -> 197.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.36144, 真实保证金=3.120480, 数量精度=0
2025-05-30 16:03:34,413 - TradingBot - INFO - 添加空头目标: DFUSDT, 数量=-197.0
2025-05-30 16:03:34,831 - TradingBot - WARNING - BCHUSDT 数量调整为 0 (因名义价值 9.28211 小于最小值 20.0)
2025-05-30 16:03:34,831 - TradingBot - INFO - BCHUSDT 数量调整: 0.02324530720816711 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-05-30 16:03:34,831 - TradingBot - WARNING - BCHUSDT 数量调整为 0，跳过
2025-05-30 16:03:35,265 - TradingBot - INFO - BELUSDT 数量调整: 30.72750943334425 -> 31.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.4643, 真实保证金=3.154767, 数量精度=0
2025-05-30 16:03:35,267 - TradingBot - INFO - 添加空头目标: BELUSDT, 数量=-31.0
2025-05-30 16:03:35,267 - TradingBot - WARNING - 交易对 MDTUSDT 不可交易，跳过
2025-05-30 16:03:35,267 - TradingBot - WARNING - 交易对 SCUSDT 不可交易，跳过
2025-05-30 16:03:35,267 - TradingBot - WARNING - 交易对 RENUSDT 不可交易，跳过
2025-05-30 16:03:35,672 - TradingBot - INFO - FILUSDT 数量调整: 3.5467329413988655 -> 3.5, 最小值: 0.1, 最大值: 10000000.0, 名义价值=9.2575, 真实保证金=3.085833, 数量精度=1
2025-05-30 16:03:35,673 - TradingBot - INFO - 添加空头目标: FILUSDT, 数量=-3.5
2025-05-30 16:03:36,071 - TradingBot - WARNING - LTCUSDT 数量调整为 0 (因名义价值 9.40264 小于最小值 20.0)
2025-05-30 16:03:36,071 - TradingBot - INFO - LTCUSDT 数量调整: 0.10376184747262471 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-05-30 16:03:36,072 - TradingBot - WARNING - LTCUSDT 数量调整为 0，跳过
2025-05-30 16:03:36,475 - TradingBot - INFO - XMRUSDT 数量调整: 0.02782308221372008 -> 0.028, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.440760000000001, 真实保证金=3.146920, 数量精度=3
2025-05-30 16:03:36,475 - TradingBot - INFO - 添加空头目标: XMRUSDT, 数量=-0.028
2025-05-30 16:03:36,476 - TradingBot - INFO - 初始化目标持仓: {'RLCUSDT': 8.8, 'DENTUSDT': 12525.0, 'ONGUSDT': 51.0, 'SFPUSDT': 18.0, 'LRCUSDT': 106.0, 'SUNUSDT': 492.0, 'SXPUSDT': 51.9, 'ARKUSDT': -25.0, 'CTKUSDT': -28.0, 'AERGOUSDT': -70.0, 'DFUSDT': -197.0, 'BELUSDT': -31.0, 'FILUSDT': -3.5, 'XMRUSDT': -0.028}
2025-05-30 16:03:36,592 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:03:36,593 - TradingBot - INFO - ==================== 开始持续限价单调仓 ====================
2025-05-30 16:03:36,593 - TradingBot - INFO - 开始第 1 轮调仓...
2025-05-30 16:03:36,717 - TradingBot - INFO - 第 1 轮开始时可用余额: 6.46487548
2025-05-30 16:03:36,829 - TradingBot - INFO - 第 1 轮开仓前可用余额: 6.46487548, 开仓需求: {'AERGOUSDT': -10.0, 'LRCUSDT': 3.0, 'ONGUSDT': 2.0, 'BELUSDT': -1.0, 'SXPUSDT': 1.7999999999999972, 'ARKUSDT': -1.0, 'RLCUSDT': 0.10000000000000142, 'SUNUSDT': 8.0, 'DENTUSDT': 383.0, 'DFUSDT': -20.0}
2025-05-30 16:03:36,829 - TradingBot - INFO - 第 1 轮: 处理开仓 AERGOUSDT SELL, 需求数量=-10.0
2025-05-30 16:03:37,247 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 1.3399 小于最小值 5.0)
2025-05-30 16:03:37,247 - TradingBot - INFO - AERGOUSDT 数量调整: 10.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:37,247 - TradingBot - INFO - 第 1 轮: AERGOUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:37,247 - TradingBot - WARNING - 第 1 轮: AERGOUSDT 调整数量为 0，跳过
2025-05-30 16:03:37,247 - TradingBot - INFO - 第 1 轮: 处理开仓 LRCUSDT BUY, 需求数量=3.0
2025-05-30 16:03:37,651 - TradingBot - WARNING - LRCUSDT 数量调整为 0 (因名义价值 0.26616 小于最小值 5.0)
2025-05-30 16:03:37,651 - TradingBot - INFO - LRCUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:37,652 - TradingBot - INFO - 第 1 轮: LRCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:37,652 - TradingBot - WARNING - 第 1 轮: LRCUSDT 调整数量为 0，跳过
2025-05-30 16:03:37,652 - TradingBot - INFO - 第 1 轮: 处理开仓 ONGUSDT BUY, 需求数量=2.0
2025-05-30 16:03:38,084 - TradingBot - WARNING - ONGUSDT 数量调整为 0 (因名义价值 0.37088000000000004 小于最小值 5.0)
2025-05-30 16:03:38,084 - TradingBot - INFO - ONGUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:38,085 - TradingBot - INFO - 第 1 轮: ONGUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:38,085 - TradingBot - WARNING - 第 1 轮: ONGUSDT 调整数量为 0，跳过
2025-05-30 16:03:38,085 - TradingBot - INFO - 第 1 轮: 处理开仓 BELUSDT SELL, 需求数量=-1.0
2025-05-30 16:03:38,481 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.3055 小于最小值 5.0)
2025-05-30 16:03:38,481 - TradingBot - INFO - BELUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:38,482 - TradingBot - INFO - 第 1 轮: BELUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:38,482 - TradingBot - WARNING - 第 1 轮: BELUSDT 调整数量为 0，跳过
2025-05-30 16:03:38,482 - TradingBot - INFO - 第 1 轮: 处理开仓 SXPUSDT BUY, 需求数量=1.7999999999999972
2025-05-30 16:03:38,936 - TradingBot - WARNING - SXPUSDT 数量调整为 0 (因名义价值 0.32544000000000006 小于最小值 5.0)
2025-05-30 16:03:38,936 - TradingBot - INFO - SXPUSDT 数量调整: 1.7999999999999972 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-05-30 16:03:38,937 - TradingBot - INFO - 第 1 轮: SXPUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:38,937 - TradingBot - WARNING - 第 1 轮: SXPUSDT 调整数量为 0，跳过
2025-05-30 16:03:38,937 - TradingBot - INFO - 第 1 轮: 处理开仓 ARKUSDT SELL, 需求数量=-1.0
2025-05-30 16:03:39,345 - TradingBot - WARNING - ARKUSDT 数量调整为 0 (因名义价值 0.3763 小于最小值 5.0)
2025-05-30 16:03:39,345 - TradingBot - INFO - ARKUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:39,346 - TradingBot - INFO - 第 1 轮: ARKUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:39,346 - TradingBot - WARNING - 第 1 轮: ARKUSDT 调整数量为 0，跳过
2025-05-30 16:03:39,346 - TradingBot - INFO - 第 1 轮: 处理开仓 RLCUSDT BUY, 需求数量=0.10000000000000142
2025-05-30 16:03:39,747 - TradingBot - WARNING - RLCUSDT 数量调整为 0 (因名义价值 0.10628 小于最小值 5.0)
2025-05-30 16:03:39,747 - TradingBot - INFO - RLCUSDT 数量调整: 0.10000000000000142 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-05-30 16:03:39,747 - TradingBot - INFO - 第 1 轮: RLCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:39,748 - TradingBot - WARNING - 第 1 轮: RLCUSDT 调整数量为 0，跳过
2025-05-30 16:03:39,748 - TradingBot - INFO - 第 1 轮: 处理开仓 SUNUSDT BUY, 需求数量=8.0
2025-05-30 16:03:40,205 - TradingBot - WARNING - SUNUSDT 数量调整为 0 (因名义价值 0.152464 小于最小值 5.0)
2025-05-30 16:03:40,205 - TradingBot - INFO - SUNUSDT 数量调整: 8.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:40,205 - TradingBot - INFO - 第 1 轮: SUNUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:40,205 - TradingBot - WARNING - 第 1 轮: SUNUSDT 调整数量为 0，跳过
2025-05-30 16:03:40,205 - TradingBot - INFO - 第 1 轮: 处理开仓 DENTUSDT BUY, 需求数量=383.0
2025-05-30 16:03:40,613 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.28648399999999996 小于最小值 5.0)
2025-05-30 16:03:40,613 - TradingBot - INFO - DENTUSDT 数量调整: 383.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:40,615 - TradingBot - INFO - 第 1 轮: DENTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:40,615 - TradingBot - WARNING - 第 1 轮: DENTUSDT 调整数量为 0，跳过
2025-05-30 16:03:40,615 - TradingBot - INFO - 第 1 轮: 处理开仓 DFUSDT SELL, 需求数量=-20.0
2025-05-30 16:03:41,096 - TradingBot - WARNING - DFUSDT 数量调整为 0 (因名义价值 0.9506000000000001 小于最小值 5.0)
2025-05-30 16:03:41,096 - TradingBot - INFO - DFUSDT 数量调整: 20.0 -> 0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:03:41,098 - TradingBot - INFO - 第 1 轮: DFUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:03:41,098 - TradingBot - WARNING - 第 1 轮: DFUSDT 调整数量为 0，跳过
2025-05-30 16:03:41,212 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:03:41,624 - TradingBot - INFO - AERGOUSDT 平仓数量调整: 10.0 -> 10.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=1.3397999999999999, 真实保证金=0.446600, 数量精度=0
2025-05-30 16:03:41,625 - TradingBot - INFO - 第 1 轮: AERGOUSDT 差值 -10.0 为小额调整（名义价值 1.3397999999999999 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:42,034 - TradingBot - INFO - LRCUSDT 平仓数量调整: 3.0 -> 3.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.26619000000000004, 真实保证金=0.088730, 数量精度=0
2025-05-30 16:03:42,034 - TradingBot - INFO - 第 1 轮: LRCUSDT 差值 3.0 为小额调整（名义价值 0.26619000000000004 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:42,436 - TradingBot - INFO - ONGUSDT 平仓数量调整: 2.0 -> 2.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.37084, 真实保证金=0.123613, 数量精度=0
2025-05-30 16:03:42,438 - TradingBot - INFO - 第 1 轮: ONGUSDT 差值 2.0 为小额调整（名义价值 0.37084 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:42,847 - TradingBot - INFO - BELUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.3053, 真实保证金=0.101767, 数量精度=0
2025-05-30 16:03:42,848 - TradingBot - INFO - 第 1 轮: BELUSDT 差值 -1.0 为小额调整（名义价值 0.3053 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:43,252 - TradingBot - INFO - SXPUSDT 平仓数量调整: 1.7999999999999972 -> 1.8, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.32544, 真实保证金=0.108480, 数量精度=1
2025-05-30 16:03:43,253 - TradingBot - INFO - 第 1 轮: SXPUSDT 差值 1.7999999999999972 为小额调整（名义价值 0.32544 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:43,669 - TradingBot - INFO - ARKUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.376, 真实保证金=0.125333, 数量精度=0
2025-05-30 16:03:43,669 - TradingBot - INFO - 第 1 轮: ARKUSDT 差值 -1.0 为小额调整（名义价值 0.376 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:44,163 - TradingBot - INFO - RLCUSDT 平仓数量调整: 0.10000000000000142 -> 0.1, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.10627, 真实保证金=0.035423, 数量精度=1
2025-05-30 16:03:44,165 - TradingBot - INFO - 第 1 轮: RLCUSDT 差值 0.10000000000000142 为小额调整（名义价值 0.10627 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:44,579 - TradingBot - INFO - SUNUSDT 平仓数量调整: 8.0 -> 8.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.152488, 真实保证金=0.050829, 数量精度=0
2025-05-30 16:03:44,580 - TradingBot - INFO - 第 1 轮: SUNUSDT 差值 8.0 为小额调整（名义价值 0.152488 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:45,000 - TradingBot - INFO - DENTUSDT 平仓数量调整: 383.0 -> 383.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.28648399999999996, 真实保证金=0.095495, 数量精度=0
2025-05-30 16:03:45,001 - TradingBot - INFO - 第 1 轮: DENTUSDT 差值 383.0 为小额调整（名义价值 0.28648399999999996 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:45,425 - TradingBot - INFO - DFUSDT 平仓数量调整: 20.0 -> 20.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.9508, 真实保证金=0.316933, 数量精度=0
2025-05-30 16:03:45,426 - TradingBot - INFO - 第 1 轮: DFUSDT 差值 -20.0 为小额调整（名义价值 0.9508 < 5 或数量过小），跳过后续轮次
2025-05-30 16:03:45,426 - TradingBot - INFO - 第 1 轮完成，剩余需求: {}
2025-05-30 16:03:45,426 - TradingBot - INFO - 第 1 轮后所有目标已达成，结束限价单调仓
2025-05-30 16:03:45,426 - TradingBot - INFO - ==================== 市价单补齐：后续调仓 ====================
2025-05-30 16:03:45,576 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:03:45,576 - TradingBot - INFO - 市价单补齐：所有目标已达成，无需补齐
2025-05-30 16:04:05,825 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250530_160405.json
2025-05-30 16:04:05,830 - TradingBot - INFO - account_metrics.xlsx 不存在，返回空DataFrame
2025-05-30 16:04:05,831 - TradingBot - INFO - account_metrics.xlsx 为空或不存在，回报率设为 0
2025-05-30 16:04:06,268 - TradingBot - INFO - 成功写入 14 条指标到 data/account_metrics.xlsx，Run_ID=2025-05-30_160329
2025-05-30 16:04:06,268 - TradingBot - INFO - ✅ 交易引擎执行完成 | RunID: 2025-05-30_160329
2025-05-30 16:04:06,268 - TradingBot - INFO - 当前日期: 2025-05-30, Run_ID: 2025-05-30_160329
2025-05-30 16:04:06,271 - TradingBot - INFO - 读取 data/positions_output.csv，去重后包含 0 条记录
2025-05-30 16:04:06,271 - TradingBot - INFO - 找到 0 条 Run_ID=2025-05-30_160329 或日期=2025-05-30 的记录
2025-05-30 16:04:06,271 - TradingBot - INFO - 当前 Run_ID 无持仓数据，创建空结果
2025-05-30 16:04:06,273 - TradingBot - INFO - 正持仓数量: 0, 负持仓数量: 0
2025-05-30 16:04:06,276 - TradingBot - INFO - 资金费率文件 data/pos20250530_v3.csv 已加载，去重后包含 173 条记录
2025-05-30 16:04:06,277 - TradingBot - INFO - 已为 7 个黑名单币种设置 ErrorReason: 黑名单过滤
2025-05-30 16:04:06,277 - TradingBot - INFO - 已为 24 个币种映射其他错误原因
2025-05-30 16:04:06,280 - TradingBot - INFO - 无有效持仓数据，生成空结果
2025-05-30 16:04:06,722 - TradingBot - WARNING - 无有效数据可拼接，跳过写入
2025-05-30 16:04:06,740 - TradingBot - INFO - 唯一日期数量为 1，少于3天，不执行可视化
2025-05-30 16:04:06,746 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-05-30 16:04:06,746 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-05-30_account_metrics_data_visualization.pdf
2025-05-30 16:04:06,746 - TradingBot - INFO - 尝试连接到 smtp.gmail.com:465 (第 1/5)

2025-05-30 16:12:40,305 - TradingBot - INFO - 日志初始化成功，当前日志文件: logs\trading_2025-05-30.log
2025-05-30 16:12:40,306 - TradingBot - INFO - 交易程序启动，进入日内多次换仓模式
2025-05-30 16:12:40,599 - TradingBot - INFO - Binance 客户端初始化成功，测试网络: False
2025-05-30 16:12:40,936 - TradingBot - INFO - 所有交易对已是全仓模式 (CROSSED)，无需修改
2025-05-30 16:12:41,056 - TradingBot - INFO - 账户已是单币种模式 (Single)，无需修改
2025-05-30 16:12:41,177 - TradingBot - INFO - 账户已是单向模式 (One-way)，无需修改
2025-05-30 16:12:41,566 - TradingBot - INFO - 检查 20250530 的文件或邮件，Run_ID: 2025-05-30_161241
2025-05-30 16:12:41,566 - TradingBot - INFO - 检查本地文件: data/pos20250530_v3.csv
2025-05-30 16:12:41,567 - TradingBot - INFO - 本地找到文件 data/pos20250530_v3.csv，哈希: 2fd5f461de1ee0e3813c1573e05a1290，未处理，直接使用
2025-05-30 16:12:41,567 - TradingBot - INFO - 处理 20250530 的pos文件，Run_ID: 2025-05-30_161241
2025-05-30 16:12:41,567 - TradingBot - INFO - 🚀 开始执行交易引擎 | Date: 20250530 | RunID: 2025-05-30_161241
2025-05-30 16:12:41,718 - TradingBot - INFO - 当前没有未成交的挂单
2025-05-30 16:12:41,721 - TradingBot - INFO - 📋 黑名单过滤结果
├─ 被过滤币种 (7个): BADGERUSDT, BALUSDT, LINAUSDT, NULSUSDT, SNTUSDT, TROYUSDT, VIDTUSDT
└─ 剩余候选池: 166/173
2025-05-30 16:12:41,724 - TradingBot - INFO - 🔍 有效候选列表
├─ 多头候选: 85个
└─ 空头候选: 81个
2025-05-30 16:12:42,003 - TradingBot - INFO - =====账户信息获取成功: totalMarginBalance = 48.91597412, available_balance = 6.54769426=====
2025-05-30 16:12:42,003 - TradingBot - INFO - 每笔交易资金份额: per_share=3.136855294285714
2025-05-30 16:12:42,124 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:12:42,124 - TradingBot - INFO - 当前持仓: {'LRCUSDT': 103.0, 'FILUSDT': -3.5, 'DENTUSDT': 12142.0, 'ONGUSDT': 49.0, 'SXPUSDT': 50.1, 'XMRUSDT': -0.028, 'ARKUSDT': -24.0, 'AERGOUSDT': -60.0, 'BELUSDT': -30.0, 'SFPUSDT': 18.0, 'RLCUSDT': 8.7, 'DFUSDT': -177.0, 'CTKUSDT': -28.0, 'SUNUSDT': 484.0}, 是否第一天: False
2025-05-30 16:12:42,323 - TradingBot - INFO - 交易所信息获取成功
2025-05-30 16:12:42,836 - TradingBot - INFO - RLCUSDT 数量调整: 8.852837142857142 -> 8.9, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.4607, 真实保证金=3.153567, 数量精度=1
2025-05-30 16:12:42,838 - TradingBot - INFO - 添加多头目标: RLCUSDT, 数量=8.9
2025-05-30 16:12:43,331 - TradingBot - INFO - DENTUSDT 数量调整: 12530.713559064103 -> 12531.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=9.410781, 真实保证金=3.136927, 数量精度=0
2025-05-30 16:12:43,331 - TradingBot - INFO - 添加多头目标: DENTUSDT, 数量=12531.0
2025-05-30 16:12:43,809 - TradingBot - INFO - ONGUSDT 数量调整: 50.61076628405476 -> 51.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=9.48294, 真实保证金=3.160980, 数量精度=0
2025-05-30 16:12:43,809 - TradingBot - INFO - 添加多头目标: ONGUSDT, 数量=51.0
2025-05-30 16:12:44,253 - TradingBot - INFO - SFPUSDT 数量调整: 17.884009659553673 -> 18.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.4716, 真实保证金=3.157200, 数量精度=0
2025-05-30 16:12:44,255 - TradingBot - INFO - 添加多头目标: SFPUSDT, 数量=18.0
2025-05-30 16:12:44,692 - TradingBot - INFO - LRCUSDT 数量调整: 105.79613134184532 -> 106.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.428700000000001, 真实保证金=3.142900, 数量精度=0
2025-05-30 16:12:44,695 - TradingBot - INFO - 添加多头目标: LRCUSDT, 数量=106.0
2025-05-30 16:12:45,123 - TradingBot - INFO - SUNUSDT 数量调整: 493.21624123989216 -> 493.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=9.40644, 真实保证金=3.135480, 数量精度=0
2025-05-30 16:12:45,124 - TradingBot - INFO - 添加多头目标: SUNUSDT, 数量=493.0
2025-05-30 16:12:45,544 - TradingBot - INFO - SXPUSDT 数量调整: 51.906044582775195 -> 51.9, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.409469999999999, 真实保证金=3.136490, 数量精度=1
2025-05-30 16:12:45,546 - TradingBot - INFO - 添加多头目标: SXPUSDT, 数量=51.9
2025-05-30 16:12:45,962 - TradingBot - INFO - ARKUSDT 数量调整: 24.91545110632021 -> 25.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.442499999999999, 真实保证金=3.147500, 数量精度=0
2025-05-30 16:12:45,963 - TradingBot - INFO - 添加空头目标: ARKUSDT, 数量=-25.0
2025-05-30 16:12:45,963 - TradingBot - WARNING - 交易对 FTTUSDT 不可交易，跳过
2025-05-30 16:12:45,963 - TradingBot - WARNING - 交易对 XEMUSDT 不可交易，跳过
2025-05-30 16:12:45,963 - TradingBot - WARNING - 交易对 STPTUSDT 不可交易，跳过
2025-05-30 16:12:46,374 - TradingBot - INFO - CTKUSDT 数量调整: 28.482342260463504 -> 28.0, 最小值: 1.0, 最大值: 2500000.0, 名义价值=9.2512, 真实保证金=3.083733, 数量精度=0
2025-05-30 16:12:46,374 - TradingBot - INFO - 添加空头目标: CTKUSDT, 数量=-28.0
2025-05-30 16:12:46,374 - TradingBot - WARNING - 交易对 BLZUSDT 不可交易，跳过
2025-05-30 16:12:46,375 - TradingBot - WARNING - 交易对 AMBUSDT 不可交易，跳过
2025-05-30 16:12:47,089 - TradingBot - INFO - AERGOUSDT 数量调整: 70.40674758983347 -> 70.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=9.3562, 真实保证金=3.118733, 数量精度=0
2025-05-30 16:12:47,089 - TradingBot - INFO - 添加空头目标: AERGOUSDT, 数量=-70.0
2025-05-30 16:12:47,089 - TradingBot - WARNING - 交易对 UNFIUSDT 不可交易，跳过
2025-05-30 16:12:47,090 - TradingBot - WARNING - 交易对 FTMUSDT 不可交易，跳过
2025-05-30 16:12:47,090 - TradingBot - WARNING - 交易对 STRAXUSDT 不可交易，跳过
2025-05-30 16:12:47,090 - TradingBot - WARNING - 交易对 WAVESUSDT 不可交易，跳过
2025-05-30 16:12:47,555 - TradingBot - INFO - DFUSDT 数量调整: 198.24238219627432 -> 198.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.39906, 真实保证金=3.133020, 数量精度=0
2025-05-30 16:12:47,555 - TradingBot - INFO - 添加空头目标: DFUSDT, 数量=-198.0
2025-05-30 16:12:47,990 - TradingBot - WARNING - BCHUSDT 数量调整为 0 (因名义价值 9.29821 小于最小值 20.0)
2025-05-30 16:12:47,990 - TradingBot - INFO - BCHUSDT 数量调整: 0.023277922880394642 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-05-30 16:12:47,991 - TradingBot - WARNING - BCHUSDT 数量调整为 0，跳过
2025-05-30 16:12:48,413 - TradingBot - INFO - BELUSDT 数量调整: 30.823995685742357 -> 31.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.4643, 真实保证金=3.154767, 数量精度=0
2025-05-30 16:12:48,416 - TradingBot - INFO - 添加空头目标: BELUSDT, 数量=-31.0
2025-05-30 16:12:48,416 - TradingBot - WARNING - 交易对 MDTUSDT 不可交易，跳过
2025-05-30 16:12:48,416 - TradingBot - WARNING - 交易对 SCUSDT 不可交易，跳过
2025-05-30 16:12:48,416 - TradingBot - WARNING - 交易对 RENUSDT 不可交易，跳过
2025-05-30 16:12:48,836 - TradingBot - INFO - FILUSDT 数量调整: 3.552497502022326 -> 3.6, 最小值: 0.1, 最大值: 10000000.0, 名义价值=9.5364, 真实保证金=3.178800, 数量精度=1
2025-05-30 16:12:48,837 - TradingBot - INFO - 添加空头目标: FILUSDT, 数量=-3.6
2025-05-30 16:12:49,250 - TradingBot - WARNING - LTCUSDT 数量调整为 0 (因名义价值 9.40056 小于最小值 20.0)
2025-05-30 16:12:49,250 - TradingBot - INFO - LTCUSDT 数量调整: 0.10411069679010003 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-05-30 16:12:49,250 - TradingBot - WARNING - LTCUSDT 数量调整为 0，跳过
2025-05-30 16:12:49,725 - TradingBot - INFO - XMRUSDT 数量调整: 0.027868295080718853 -> 0.028, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.45504, 真实保证金=3.151680, 数量精度=3
2025-05-30 16:12:49,725 - TradingBot - INFO - 添加空头目标: XMRUSDT, 数量=-0.028
2025-05-30 16:12:49,725 - TradingBot - INFO - 初始化目标持仓: {'RLCUSDT': 8.9, 'DENTUSDT': 12531.0, 'ONGUSDT': 51.0, 'SFPUSDT': 18.0, 'LRCUSDT': 106.0, 'SUNUSDT': 493.0, 'SXPUSDT': 51.9, 'ARKUSDT': -25.0, 'CTKUSDT': -28.0, 'AERGOUSDT': -70.0, 'DFUSDT': -198.0, 'BELUSDT': -31.0, 'FILUSDT': -3.6, 'XMRUSDT': -0.028}
2025-05-30 16:12:49,853 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:12:49,854 - TradingBot - INFO - ==================== 开始持续限价单调仓 ====================
2025-05-30 16:12:49,854 - TradingBot - INFO - 开始第 1 轮调仓...
2025-05-30 16:12:49,988 - TradingBot - INFO - 第 1 轮开始时可用余额: 6.55694634
2025-05-30 16:12:50,111 - TradingBot - INFO - 第 1 轮开仓前可用余额: 6.55694634, 开仓需求: {'ONGUSDT': 2.0, 'AERGOUSDT': -10.0, 'DFUSDT': -21.0, 'SUNUSDT': 9.0, 'LRCUSDT': 3.0, 'SXPUSDT': 1.7999999999999972, 'RLCUSDT': 0.20000000000000107, 'BELUSDT': -1.0, 'ARKUSDT': -1.0, 'FILUSDT': -0.10000000000000009, 'DENTUSDT': 389.0}
2025-05-30 16:12:50,111 - TradingBot - INFO - 第 1 轮: 处理开仓 ONGUSDT BUY, 需求数量=2.0
2025-05-30 16:12:50,527 - TradingBot - WARNING - ONGUSDT 数量调整为 0 (因名义价值 0.37182000000000004 小于最小值 5.0)
2025-05-30 16:12:50,527 - TradingBot - INFO - ONGUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:50,527 - TradingBot - INFO - 第 1 轮: ONGUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:50,527 - TradingBot - WARNING - 第 1 轮: ONGUSDT 调整数量为 0，跳过
2025-05-30 16:12:50,527 - TradingBot - INFO - 第 1 轮: 处理开仓 AERGOUSDT SELL, 需求数量=-10.0
2025-05-30 16:12:51,002 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 1.3370000000000002 小于最小值 5.0)
2025-05-30 16:12:51,002 - TradingBot - INFO - AERGOUSDT 数量调整: 10.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:51,002 - TradingBot - INFO - 第 1 轮: AERGOUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:51,002 - TradingBot - WARNING - 第 1 轮: AERGOUSDT 调整数量为 0，跳过
2025-05-30 16:12:51,002 - TradingBot - INFO - 第 1 轮: 处理开仓 DFUSDT SELL, 需求数量=-21.0
2025-05-30 16:12:51,488 - TradingBot - WARNING - DFUSDT 数量调整为 0 (因名义价值 0.9968700000000001 小于最小值 5.0)
2025-05-30 16:12:51,488 - TradingBot - INFO - DFUSDT 数量调整: 21.0 -> 0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:51,489 - TradingBot - INFO - 第 1 轮: DFUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:51,490 - TradingBot - WARNING - 第 1 轮: DFUSDT 调整数量为 0，跳过
2025-05-30 16:12:51,490 - TradingBot - INFO - 第 1 轮: 处理开仓 SUNUSDT BUY, 需求数量=9.0
2025-05-30 16:12:51,906 - TradingBot - WARNING - SUNUSDT 数量调整为 0 (因名义价值 0.171666 小于最小值 5.0)
2025-05-30 16:12:51,906 - TradingBot - INFO - SUNUSDT 数量调整: 9.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:51,906 - TradingBot - INFO - 第 1 轮: SUNUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:51,906 - TradingBot - WARNING - 第 1 轮: SUNUSDT 调整数量为 0，跳过
2025-05-30 16:12:51,906 - TradingBot - INFO - 第 1 轮: 处理开仓 LRCUSDT BUY, 需求数量=3.0
2025-05-30 16:12:52,351 - TradingBot - WARNING - LRCUSDT 数量调整为 0 (因名义价值 0.26679 小于最小值 5.0)
2025-05-30 16:12:52,351 - TradingBot - INFO - LRCUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:52,352 - TradingBot - INFO - 第 1 轮: LRCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:52,352 - TradingBot - WARNING - 第 1 轮: LRCUSDT 调整数量为 0，跳过
2025-05-30 16:12:52,352 - TradingBot - INFO - 第 1 轮: 处理开仓 SXPUSDT BUY, 需求数量=1.7999999999999972
2025-05-30 16:12:52,784 - TradingBot - WARNING - SXPUSDT 数量调整为 0 (因名义价值 0.32616 小于最小值 5.0)
2025-05-30 16:12:52,784 - TradingBot - INFO - SXPUSDT 数量调整: 1.7999999999999972 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-05-30 16:12:52,785 - TradingBot - INFO - 第 1 轮: SXPUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:52,785 - TradingBot - WARNING - 第 1 轮: SXPUSDT 调整数量为 0，跳过
2025-05-30 16:12:52,785 - TradingBot - INFO - 第 1 轮: 处理开仓 RLCUSDT BUY, 需求数量=0.20000000000000107
2025-05-30 16:12:53,218 - TradingBot - WARNING - RLCUSDT 数量调整为 0 (因名义价值 0.21252000000000001 小于最小值 5.0)
2025-05-30 16:12:53,218 - TradingBot - INFO - RLCUSDT 数量调整: 0.20000000000000107 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-05-30 16:12:53,219 - TradingBot - INFO - 第 1 轮: RLCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:53,219 - TradingBot - WARNING - 第 1 轮: RLCUSDT 调整数量为 0，跳过
2025-05-30 16:12:53,219 - TradingBot - INFO - 第 1 轮: 处理开仓 BELUSDT SELL, 需求数量=-1.0
2025-05-30 16:12:53,630 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.3053 小于最小值 5.0)
2025-05-30 16:12:53,632 - TradingBot - INFO - BELUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:53,632 - TradingBot - INFO - 第 1 轮: BELUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:53,632 - TradingBot - WARNING - 第 1 轮: BELUSDT 调整数量为 0，跳过
2025-05-30 16:12:53,632 - TradingBot - INFO - 第 1 轮: 处理开仓 ARKUSDT SELL, 需求数量=-1.0
2025-05-30 16:12:54,063 - TradingBot - WARNING - ARKUSDT 数量调整为 0 (因名义价值 0.3776 小于最小值 5.0)
2025-05-30 16:12:54,063 - TradingBot - INFO - ARKUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:54,066 - TradingBot - INFO - 第 1 轮: ARKUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:54,066 - TradingBot - WARNING - 第 1 轮: ARKUSDT 调整数量为 0，跳过
2025-05-30 16:12:54,066 - TradingBot - INFO - 第 1 轮: 处理开仓 FILUSDT SELL, 需求数量=-0.10000000000000009
2025-05-30 16:12:54,481 - TradingBot - WARNING - FILUSDT 数量调整为 0 (因名义价值 0.2649 小于最小值 5.0)
2025-05-30 16:12:54,481 - TradingBot - INFO - FILUSDT 数量调整: 0.10000000000000009 -> 0, 最小值: 0.1, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-05-30 16:12:54,482 - TradingBot - INFO - 第 1 轮: FILUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:54,482 - TradingBot - WARNING - 第 1 轮: FILUSDT 调整数量为 0，跳过
2025-05-30 16:12:54,483 - TradingBot - INFO - 第 1 轮: 处理开仓 DENTUSDT BUY, 需求数量=389.0
2025-05-30 16:12:54,934 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.29175 小于最小值 5.0)
2025-05-30 16:12:54,934 - TradingBot - INFO - DENTUSDT 数量调整: 389.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-05-30 16:12:54,935 - TradingBot - INFO - 第 1 轮: DENTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-05-30 16:12:54,935 - TradingBot - WARNING - 第 1 轮: DENTUSDT 调整数量为 0，跳过
2025-05-30 16:12:55,068 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:12:55,491 - TradingBot - INFO - ONGUSDT 平仓数量调整: 2.0 -> 2.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.37188, 真实保证金=0.123960, 数量精度=0
2025-05-30 16:12:55,492 - TradingBot - INFO - 第 1 轮: ONGUSDT 差值 2.0 为小额调整（名义价值 0.37188 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:55,919 - TradingBot - INFO - AERGOUSDT 平仓数量调整: 10.0 -> 10.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=1.3366, 真实保证金=0.445533, 数量精度=0
2025-05-30 16:12:55,921 - TradingBot - INFO - 第 1 轮: AERGOUSDT 差值 -10.0 为小额调整（名义价值 1.3366 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:56,368 - TradingBot - INFO - DFUSDT 平仓数量调整: 21.0 -> 21.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.9966600000000001, 真实保证金=0.332220, 数量精度=0
2025-05-30 16:12:56,369 - TradingBot - INFO - 第 1 轮: DFUSDT 差值 -21.0 为小额调整（名义价值 0.9966600000000001 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:56,805 - TradingBot - INFO - SUNUSDT 平仓数量调整: 9.0 -> 9.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.171711, 真实保证金=0.057237, 数量精度=0
2025-05-30 16:12:56,806 - TradingBot - INFO - 第 1 轮: SUNUSDT 差值 9.0 为小额调整（名义价值 0.171711 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:57,229 - TradingBot - INFO - LRCUSDT 平仓数量调整: 3.0 -> 3.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.26682, 真实保证金=0.088940, 数量精度=0
2025-05-30 16:12:57,230 - TradingBot - INFO - 第 1 轮: LRCUSDT 差值 3.0 为小额调整（名义价值 0.26682 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:57,724 - TradingBot - INFO - SXPUSDT 平仓数量调整: 1.7999999999999972 -> 1.8, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.32633999999999996, 真实保证金=0.108780, 数量精度=1
2025-05-30 16:12:57,725 - TradingBot - INFO - 第 1 轮: SXPUSDT 差值 1.7999999999999972 为小额调整（名义价值 0.32633999999999996 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:58,146 - TradingBot - INFO - RLCUSDT 平仓数量调整: 0.20000000000000107 -> 0.2, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.21258, 真实保证金=0.070860, 数量精度=1
2025-05-30 16:12:58,146 - TradingBot - INFO - 第 1 轮: RLCUSDT 差值 0.20000000000000107 为小额调整（名义价值 0.21258 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:58,568 - TradingBot - INFO - BELUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.3053, 真实保证金=0.101767, 数量精度=0
2025-05-30 16:12:58,569 - TradingBot - INFO - 第 1 轮: BELUSDT 差值 -1.0 为小额调整（名义价值 0.3053 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:58,979 - TradingBot - INFO - ARKUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.3774, 真实保证金=0.125800, 数量精度=0
2025-05-30 16:12:58,981 - TradingBot - INFO - 第 1 轮: ARKUSDT 差值 -1.0 为小额调整（名义价值 0.3774 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:59,411 - TradingBot - INFO - FILUSDT 平仓数量调整: 0.10000000000000009 -> 0.1, 最小值: 0.1, 最大值: 10000000.0, 名义价值=0.26480000000000004, 真实保证金=0.088267, 数量精度=1
2025-05-30 16:12:59,412 - TradingBot - INFO - 第 1 轮: FILUSDT 差值 -0.10000000000000009 为小额调整（名义价值 0.26480000000000004 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:59,844 - TradingBot - INFO - DENTUSDT 平仓数量调整: 389.0 -> 389.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.29213900000000004, 真实保证金=0.097380, 数量精度=0
2025-05-30 16:12:59,845 - TradingBot - INFO - 第 1 轮: DENTUSDT 差值 389.0 为小额调整（名义价值 0.29213900000000004 < 5 或数量过小），跳过后续轮次
2025-05-30 16:12:59,846 - TradingBot - INFO - 第 1 轮完成，剩余需求: {}
2025-05-30 16:12:59,846 - TradingBot - INFO - 第 1 轮后所有目标已达成，结束限价单调仓
2025-05-30 16:12:59,846 - TradingBot - INFO - ==================== 市价单补齐：后续调仓 ====================
2025-05-30 16:12:59,964 - TradingBot - INFO - 获取到 14 个非零持仓
2025-05-30 16:12:59,965 - TradingBot - INFO - 市价单补齐：所有目标已达成，无需补齐
2025-05-30 16:13:22,578 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250530_161322.json
2025-05-30 16:13:22,601 - TradingBot - WARNING - 无法解析当前记录时间: 2025-05-30_16:13:22，使用当前时间作为默认值
2025-05-30 16:13:22,603 - TradingBot - INFO - 找到上一次记录: Record_Time=2025-05-30 16:04:06, after_trade_balance=48.84950503
2025-05-30 16:13:22,603 - TradingBot - INFO - Pre-rebalance return: 0.136069%
2025-05-30 16:13:22,603 - TradingBot - WARNING - 无法计算 Post-rebalance return: 缺少上一次 after_trade_balance 数据或数据无效
2025-05-30 16:13:23,043 - TradingBot - INFO - 成功写入 14 条指标到 data/account_metrics.xlsx，Run_ID=2025-05-30_161241
2025-05-30 16:13:23,043 - TradingBot - INFO - ✅ 交易引擎执行完成 | RunID: 2025-05-30_161241
2025-05-30 16:13:23,043 - TradingBot - INFO - 当前日期: 2025-05-30, Run_ID: 2025-05-30_161241
2025-05-30 16:13:23,045 - TradingBot - INFO - 读取 data/positions_output.csv，去重后包含 0 条记录
2025-05-30 16:13:23,045 - TradingBot - INFO - 找到 0 条 Run_ID=2025-05-30_161241 或日期=2025-05-30 的记录
2025-05-30 16:13:23,045 - TradingBot - INFO - 当前 Run_ID 无持仓数据，创建空结果
2025-05-30 16:13:23,046 - TradingBot - INFO - 正持仓数量: 0, 负持仓数量: 0
2025-05-30 16:13:23,047 - TradingBot - INFO - 资金费率文件 data/pos20250530_v3.csv 已加载，去重后包含 173 条记录
2025-05-30 16:13:23,048 - TradingBot - INFO - 已为 7 个黑名单币种设置 ErrorReason: 黑名单过滤
2025-05-30 16:13:23,048 - TradingBot - INFO - 已为 25 个币种映射其他错误原因
2025-05-30 16:13:23,051 - TradingBot - INFO - 无有效持仓数据，生成空结果
2025-05-30 16:13:23,056 - TradingBot - WARNING - 无有效数据可拼接，跳过写入
2025-05-30 16:13:23,077 - TradingBot - INFO - 唯一日期数量为 1，少于3天，不执行可视化
2025-05-30 16:13:23,085 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-05-30 16:13:23,086 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-05-30_account_metrics_data_visualization.pdf
2025-05-30 16:13:23,086 - TradingBot - INFO - 尝试连接到 smtp.gmail.com:465 (第 1/5)
2025-05-30 16:13:44,141 - TradingBot - ERROR - 发送邮件失败 (第 1/5): [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2025-05-30 16:13:44,142 - TradingBot - INFO - 等待 10 秒后重试...
