2025-06-04 17:21:17,343 - TradingBot - INFO - 日志初始化成功，当前日志文件: logs\trading_2025-06-04_172117.log
2025-06-04 17:21:17,343 - TradingBot - INFO - 交易程序启动，进入日内多次换仓模式
2025-06-04 17:21:17,380 - TradingBot - INFO - 初始化空分析文件: data/position_analysis.xlsx
2025-06-04 17:21:18,034 - TradingBot - INFO - Binance 客户端初始化成功，测试网络: False
2025-06-04 17:21:18,384 - TradingBot - INFO - 所有交易对已是全仓模式 (CROSSED)，无需修改
2025-06-04 17:21:18,505 - TradingBot - INFO - 账户已是单币种模式 (Single)，无需修改
2025-06-04 17:21:18,624 - TradingBot - INFO - 账户已是单向模式 (One-way)，无需修改
2025-06-04 17:21:18,629 - TradingBot - INFO - 初始化空持仓文件: data/positions_output.csv
2025-06-04 17:21:18,630 - TradingBot - INFO - 检查 20250604 的文件或邮件，Run_ID: 2025-06-04_172118
2025-06-04 17:21:18,630 - TradingBot - INFO - 检查本地文件: data/pos20250604_v3.csv
2025-06-04 17:21:18,630 - TradingBot - INFO - 本地找到文件 data/pos20250604_v3.csv，哈希: 2fd5f461de1ee0e3813c1573e05a1290，未处理，直接使用
2025-06-04 17:21:18,630 - TradingBot - INFO - 处理 20250604 的pos文件，Run_ID: 2025-06-04_172118
2025-06-04 17:21:18,630 - TradingBot - INFO - 🚀 开始执行交易引擎 | Date: 20250604 | RunID: 2025-06-04_172118
2025-06-04 17:21:18,751 - TradingBot - INFO - 当前没有未成交的挂单
2025-06-04 17:21:18,754 - TradingBot - INFO - 📋 黑名单过滤结果
├─ 被过滤币种 (7个): BADGERUSDT, BALUSDT, LINAUSDT, NULSUSDT, SNTUSDT, TROYUSDT, VIDTUSDT
└─ 剩余候选池: 166/173
2025-06-04 17:21:18,760 - TradingBot - INFO - 🔍 有效候选列表
├─ 多头候选: 85个
└─ 空头候选: 81个
2025-06-04 17:21:19,033 - TradingBot - INFO - =====账户信息获取成功: totalMarginBalance = 48.19613301, available_balance = 5.45160606=====
2025-06-04 17:21:19,034 - TradingBot - INFO - 每笔交易资金份额: per_share=3.085438072142857
2025-06-04 17:21:19,178 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-04 17:21:19,178 - TradingBot - INFO - 当前持仓: {'LRCUSDT': 104.0, 'FILUSDT': -3.5, 'DENTUSDT': 12245.0, 'ONGUSDT': 49.0, 'SXPUSDT': 49.8, 'XMRUSDT': -0.026, 'ARKUSDT': -24.0, 'AERGOUSDT': -76.0, 'BELUSDT': -31.0, 'SFPUSDT': 19.0, 'RLCUSDT': 9.0, 'DFUSDT': -192.0, 'CTKUSDT': -28.0, 'SUNUSDT': 490.0}, 是否第一天: False
2025-06-04 17:21:19,364 - TradingBot - INFO - 交易所信息获取成功
2025-06-04 17:21:19,798 - TradingBot - INFO - RLCUSDT 数量调整: 9.077487708569747 -> 9.1, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.27927, 真实保证金=3.093090, 数量精度=1
2025-06-04 17:21:19,800 - TradingBot - INFO - 添加多头目标: RLCUSDT, 数量=9.1
2025-06-04 17:21:20,238 - TradingBot - INFO - DENTUSDT 数量调整: 12441.282548963132 -> 12441.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=9.256104, 真实保证金=3.085368, 数量精度=0
2025-06-04 17:21:20,239 - TradingBot - INFO - 添加多头目标: DENTUSDT, 数量=12441.0
2025-06-04 17:21:20,660 - TradingBot - INFO - ONGUSDT 数量调整: 49.36700915428571 -> 49.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=9.1875, 真实保证金=3.062500, 数量精度=0
2025-06-04 17:21:20,661 - TradingBot - INFO - 添加多头目标: ONGUSDT, 数量=49.0
2025-06-04 17:21:21,095 - TradingBot - INFO - SFPUSDT 数量调整: 18.95232231045981 -> 19.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.2796, 真实保证金=3.093200, 数量精度=0
2025-06-04 17:21:21,096 - TradingBot - INFO - 添加多头目标: SFPUSDT, 数量=19.0
2025-06-04 17:21:21,575 - TradingBot - INFO - LRCUSDT 数量调整: 104.97067607653177 -> 105.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.258899999999999, 真实保证金=3.086300, 数量精度=0
2025-06-04 17:21:21,576 - TradingBot - INFO - 添加多头目标: LRCUSDT, 数量=105.0
2025-06-04 17:21:21,999 - TradingBot - INFO - SUNUSDT 数量调整: 489.7002548105265 -> 490.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=9.26198, 真实保证金=3.087327, 数量精度=0
2025-06-04 17:21:22,001 - TradingBot - INFO - 添加多头目标: SUNUSDT, 数量=490.0
2025-06-04 17:21:22,426 - TradingBot - INFO - SXPUSDT 数量调整: 50.22416829315557 -> 50.2, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.25186, 真实保证金=3.083953, 数量精度=1
2025-06-04 17:21:22,428 - TradingBot - INFO - 添加多头目标: SXPUSDT, 数量=50.2
2025-06-04 17:21:22,855 - TradingBot - INFO - ARKUSDT 数量调整: 24.288413058065 -> 24.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.1464, 真实保证金=3.048800, 数量精度=0
2025-06-04 17:21:22,857 - TradingBot - INFO - 添加空头目标: ARKUSDT, 数量=-24.0
2025-06-04 17:21:22,857 - TradingBot - WARNING - 交易对 FTTUSDT 不可交易，跳过
2025-06-04 17:21:22,857 - TradingBot - WARNING - 交易对 XEMUSDT 不可交易，跳过
2025-06-04 17:21:22,857 - TradingBot - WARNING - 交易对 STPTUSDT 不可交易，跳过
2025-06-04 17:21:23,279 - TradingBot - INFO - CTKUSDT 数量调整: 28.826889493704673 -> 29.0, 最小值: 1.0, 最大值: 2500000.0, 名义价值=9.3119, 真实保证金=3.103967, 数量精度=0
2025-06-04 17:21:23,280 - TradingBot - INFO - 添加空头目标: CTKUSDT, 数量=-29.0
2025-06-04 17:21:23,280 - TradingBot - WARNING - 交易对 BLZUSDT 不可交易，跳过
2025-06-04 17:21:23,281 - TradingBot - WARNING - 交易对 AMBUSDT 不可交易，跳过
2025-06-04 17:21:23,736 - TradingBot - INFO - AERGOUSDT 数量调整: 77.07172536576662 -> 77.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=9.2477, 真实保证金=3.082567, 数量精度=0
2025-06-04 17:21:23,738 - TradingBot - INFO - 添加空头目标: AERGOUSDT, 数量=-77.0
2025-06-04 17:21:23,738 - TradingBot - WARNING - 交易对 UNFIUSDT 不可交易，跳过
2025-06-04 17:21:23,739 - TradingBot - WARNING - 交易对 FTMUSDT 不可交易，跳过
2025-06-04 17:21:23,739 - TradingBot - WARNING - 交易对 STRAXUSDT 不可交易，跳过
2025-06-04 17:21:23,739 - TradingBot - WARNING - 交易对 WAVESUSDT 不可交易，跳过
2025-06-04 17:21:24,164 - TradingBot - INFO - DFUSDT 数量调整: 194.66486259576382 -> 195.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=9.27225, 真实保证金=3.090750, 数量精度=0
2025-06-04 17:21:24,166 - TradingBot - INFO - 添加空头目标: DFUSDT, 数量=-195.0
2025-06-04 17:21:24,588 - TradingBot - WARNING - BCHUSDT 数量调整为 0 (因名义价值 9.32604 小于最小值 20.0)
2025-06-04 17:21:24,589 - TradingBot - INFO - BCHUSDT 数量调整: 0.022828041374244278 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-04 17:21:24,591 - TradingBot - WARNING - BCHUSDT 数量调整为 0，跳过
2025-06-04 17:21:25,017 - TradingBot - INFO - BELUSDT 数量调整: 31.516221370202828 -> 32.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.3984, 真实保证金=3.132800, 数量精度=0
2025-06-04 17:21:25,018 - TradingBot - INFO - 添加空头目标: BELUSDT, 数量=-32.0
2025-06-04 17:21:25,018 - TradingBot - WARNING - 交易对 MDTUSDT 不可交易，跳过
2025-06-04 17:21:25,018 - TradingBot - WARNING - 交易对 SCUSDT 不可交易，跳过
2025-06-04 17:21:25,018 - TradingBot - WARNING - 交易对 RENUSDT 不可交易，跳过
2025-06-04 17:21:26,023 - TradingBot - INFO - FILUSDT 数量调整: 3.5248721311609184 -> 3.5, 最小值: 0.1, 最大值: 10000000.0, 名义价值=9.190999999999999, 真实保证金=3.063667, 数量精度=1
2025-06-04 17:21:26,024 - TradingBot - INFO - 添加空头目标: FILUSDT, 数量=-3.5
2025-06-04 17:21:26,474 - TradingBot - WARNING - LTCUSDT 数量调整为 0 (因名义价值 9.28957 小于最小值 20.0)
2025-06-04 17:21:26,475 - TradingBot - INFO - LTCUSDT 数量调整: 0.10263126972423296 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-04 17:21:26,477 - TradingBot - WARNING - LTCUSDT 数量调整为 0，跳过
2025-06-04 17:21:26,922 - TradingBot - INFO - XMRUSDT 数量调整: 0.026359249961352575 -> 0.026, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.13016, 真实保证金=3.043387, 数量精度=3
2025-06-04 17:21:26,924 - TradingBot - INFO - 添加空头目标: XMRUSDT, 数量=-0.026
2025-06-04 17:21:26,924 - TradingBot - INFO - 初始化目标持仓: {'RLCUSDT': 9.1, 'DENTUSDT': 12441.0, 'ONGUSDT': 49.0, 'SFPUSDT': 19.0, 'LRCUSDT': 105.0, 'SUNUSDT': 490.0, 'SXPUSDT': 50.2, 'ARKUSDT': -24.0, 'CTKUSDT': -29.0, 'AERGOUSDT': -77.0, 'DFUSDT': -195.0, 'BELUSDT': -32.0, 'FILUSDT': -3.5, 'XMRUSDT': -0.026}
2025-06-04 17:21:27,052 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-04 17:21:27,053 - TradingBot - INFO - ==================== 开始持续限价单调仓 ====================
2025-06-04 17:21:27,054 - TradingBot - INFO - 开始第 1 轮调仓...
2025-06-04 17:21:27,179 - TradingBot - INFO - 第 1 轮开始时可用余额: 5.45459011
2025-06-04 17:21:27,296 - TradingBot - INFO - 第 1 轮开仓前可用余额: 5.45459011, 开仓需求: {'RLCUSDT': 0.09999999999999964, 'AERGOUSDT': -1.0, 'DENTUSDT': 196.0, 'BELUSDT': -1.0, 'CTKUSDT': -1.0, 'SXPUSDT': 0.4000000000000057, 'DFUSDT': -3.0, 'LRCUSDT': 1.0}
2025-06-04 17:21:27,296 - TradingBot - INFO - 第 1 轮: 处理开仓 RLCUSDT BUY, 需求数量=0.09999999999999964
2025-06-04 17:21:27,755 - TradingBot - WARNING - RLCUSDT 数量调整为 0 (因名义价值 0.10196000000000001 小于最小值 5.0)
2025-06-04 17:21:27,755 - TradingBot - INFO - RLCUSDT 数量调整: 0.09999999999999964 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-04 17:21:27,756 - TradingBot - INFO - 第 1 轮: RLCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:27,756 - TradingBot - WARNING - 第 1 轮: RLCUSDT 调整数量为 0，跳过
2025-06-04 17:21:27,756 - TradingBot - INFO - 第 1 轮: 处理开仓 AERGOUSDT SELL, 需求数量=-1.0
2025-06-04 17:21:28,223 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 0.12011000000000001 小于最小值 5.0)
2025-06-04 17:21:28,224 - TradingBot - INFO - AERGOUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:28,225 - TradingBot - INFO - 第 1 轮: AERGOUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:28,225 - TradingBot - WARNING - 第 1 轮: AERGOUSDT 调整数量为 0，跳过
2025-06-04 17:21:28,225 - TradingBot - INFO - 第 1 轮: 处理开仓 DENTUSDT BUY, 需求数量=196.0
2025-06-04 17:21:28,743 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.14562799999999998 小于最小值 5.0)
2025-06-04 17:21:28,743 - TradingBot - INFO - DENTUSDT 数量调整: 196.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:28,744 - TradingBot - INFO - 第 1 轮: DENTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:28,744 - TradingBot - WARNING - 第 1 轮: DENTUSDT 调整数量为 0，跳过
2025-06-04 17:21:28,745 - TradingBot - INFO - 第 1 轮: 处理开仓 BELUSDT SELL, 需求数量=-1.0
2025-06-04 17:21:29,204 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.2938 小于最小值 5.0)
2025-06-04 17:21:29,204 - TradingBot - INFO - BELUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:29,205 - TradingBot - INFO - 第 1 轮: BELUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:29,205 - TradingBot - WARNING - 第 1 轮: BELUSDT 调整数量为 0，跳过
2025-06-04 17:21:29,206 - TradingBot - INFO - 第 1 轮: 处理开仓 CTKUSDT SELL, 需求数量=-1.0
2025-06-04 17:21:29,633 - TradingBot - WARNING - CTKUSDT 数量调整为 0 (因名义价值 0.3211 小于最小值 5.0)
2025-06-04 17:21:29,634 - TradingBot - INFO - CTKUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 2500000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:29,634 - TradingBot - INFO - 第 1 轮: CTKUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:29,635 - TradingBot - WARNING - 第 1 轮: CTKUSDT 调整数量为 0，跳过
2025-06-04 17:21:29,635 - TradingBot - INFO - 第 1 轮: 处理开仓 SXPUSDT BUY, 需求数量=0.4000000000000057
2025-06-04 17:21:30,077 - TradingBot - WARNING - SXPUSDT 数量调整为 0 (因名义价值 0.07368000000000001 小于最小值 5.0)
2025-06-04 17:21:30,078 - TradingBot - INFO - SXPUSDT 数量调整: 0.4000000000000057 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-04 17:21:30,079 - TradingBot - INFO - 第 1 轮: SXPUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:30,079 - TradingBot - WARNING - 第 1 轮: SXPUSDT 调整数量为 0，跳过
2025-06-04 17:21:30,079 - TradingBot - INFO - 第 1 轮: 处理开仓 DFUSDT SELL, 需求数量=-3.0
2025-06-04 17:21:30,515 - TradingBot - WARNING - DFUSDT 数量调整为 0 (因名义价值 0.14274 小于最小值 5.0)
2025-06-04 17:21:30,517 - TradingBot - INFO - DFUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:30,518 - TradingBot - INFO - 第 1 轮: DFUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:30,518 - TradingBot - WARNING - 第 1 轮: DFUSDT 调整数量为 0，跳过
2025-06-04 17:21:30,518 - TradingBot - INFO - 第 1 轮: 处理开仓 LRCUSDT BUY, 需求数量=1.0
2025-06-04 17:21:30,949 - TradingBot - WARNING - LRCUSDT 数量调整为 0 (因名义价值 0.08814000000000001 小于最小值 5.0)
2025-06-04 17:21:30,950 - TradingBot - INFO - LRCUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-04 17:21:30,951 - TradingBot - INFO - 第 1 轮: LRCUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-04 17:21:30,951 - TradingBot - WARNING - 第 1 轮: LRCUSDT 调整数量为 0，跳过
2025-06-04 17:21:31,082 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-04 17:21:31,687 - TradingBot - INFO - RLCUSDT 平仓数量调整: 0.09999999999999964 -> 0.1, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.10197, 真实保证金=0.033990, 数量精度=1
2025-06-04 17:21:31,689 - TradingBot - INFO - 第 1 轮: RLCUSDT 差值 0.09999999999999964 为小额调整（名义价值 0.10197 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:32,107 - TradingBot - INFO - AERGOUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.1201, 真实保证金=0.040033, 数量精度=0
2025-06-04 17:21:32,108 - TradingBot - INFO - 第 1 轮: AERGOUSDT 差值 -1.0 为小额调整（名义价值 0.1201 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:32,523 - TradingBot - INFO - DENTUSDT 平仓数量调整: 196.0 -> 196.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.145824, 真实保证金=0.048608, 数量精度=0
2025-06-04 17:21:32,523 - TradingBot - INFO - 第 1 轮: DENTUSDT 差值 196.0 为小额调整（名义价值 0.145824 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:32,964 - TradingBot - INFO - BELUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.2937, 真实保证金=0.097900, 数量精度=0
2025-06-04 17:21:32,967 - TradingBot - INFO - 第 1 轮: BELUSDT 差值 -1.0 为小额调整（名义价值 0.2937 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:33,395 - TradingBot - INFO - CTKUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 2500000.0, 名义价值=0.3209, 真实保证金=0.106967, 数量精度=0
2025-06-04 17:21:33,397 - TradingBot - INFO - 第 1 轮: CTKUSDT 差值 -1.0 为小额调整（名义价值 0.3209 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:33,816 - TradingBot - INFO - SXPUSDT 平仓数量调整: 0.4000000000000057 -> 0.4, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.07368000000000001, 真实保证金=0.024560, 数量精度=1
2025-06-04 17:21:33,817 - TradingBot - INFO - 第 1 轮: SXPUSDT 差值 0.4000000000000057 为小额调整（名义价值 0.07368000000000001 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:34,296 - TradingBot - INFO - DFUSDT 平仓数量调整: 3.0 -> 3.0, 最小值: 1.0, 最大值: 5000000.0, 名义价值=0.14265, 真实保证金=0.047550, 数量精度=0
2025-06-04 17:21:34,297 - TradingBot - INFO - 第 1 轮: DFUSDT 差值 -3.0 为小额调整（名义价值 0.14265 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:34,715 - TradingBot - INFO - LRCUSDT 平仓数量调整: 1.0 -> 1.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.08812, 真实保证金=0.029373, 数量精度=0
2025-06-04 17:21:34,716 - TradingBot - INFO - 第 1 轮: LRCUSDT 差值 1.0 为小额调整（名义价值 0.08812 < 5 或数量过小），跳过后续轮次
2025-06-04 17:21:34,717 - TradingBot - INFO - 第 1 轮完成，剩余需求: {}
2025-06-04 17:21:34,717 - TradingBot - INFO - 第 1 轮后所有目标已达成，结束限价单调仓
2025-06-04 17:21:34,717 - TradingBot - INFO - ==================== 市价单补齐：后续调仓 ====================
2025-06-04 17:21:34,837 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-04 17:21:34,837 - TradingBot - INFO - 市价单补齐：所有目标已达成，无需补齐
2025-06-04 17:21:34,958 - TradingBot - INFO - 准备保存 14 条持仓记录，Run_ID=2025-06-04_172118, 调仓日期=2025-06-04
2025-06-04 17:21:34,974 - TradingBot - INFO - 持仓数据已保存到 data/positions_output.csv，合并后记录数: 14
2025-06-04 17:21:34,985 - TradingBot - INFO - 验证: data/positions_output.csv 中 Run_ID=2025-06-04_172118 的记录数: 14
2025-06-04 17:21:57,098 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250604_172157.json
2025-06-04 17:21:57,098 - TradingBot - INFO - 开始计算手续费和已实现盈亏...
2025-06-04 17:21:57,098 - TradingBot - INFO - 使用实际交易时间戳: start_time=1749028878630, end_time=1749028894986
2025-06-04 17:21:57,098 - TradingBot - INFO - 开始获取手续费记录: start_time=1749028878630, end_time=1749028894986, limit=1000
2025-06-04 17:21:57,229 - TradingBot - INFO - API返回空记录，可能该时间段内没有交易
2025-06-04 17:21:57,230 - TradingBot - INFO - 获取到 0 条手续费记录
2025-06-04 17:21:57,230 - TradingBot - INFO - 手续费汇总 (trade_commission_summary_2025-06-04): 0.0 USDT, 记录数: 0
2025-06-04 17:21:57,230 - TradingBot - INFO - 手续费计算结果: {'value': 0.0, 'description': '买卖交易手续费总和', 'date': '2025-06-04_17:21:57', 'records_count': 0}
2025-06-04 17:21:57,230 - TradingBot - INFO - 已存在已实现盈亏记录 (trade_realized_pnl_summary_2025-06-04): 0 USDT
2025-06-04 17:21:57,230 - TradingBot - INFO - 已实现盈亏计算结果: {'value': 0, 'description': '买卖交易已实现盈亏总和', 'date': '2025-06-04'}
2025-06-04 17:21:57,779 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-04 17:21:57,781 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250604_172118.json
2025-06-04 17:21:57,784 - TradingBot - INFO - account_metrics.xlsx 不存在，返回空DataFrame
2025-06-04 17:21:57,786 - TradingBot - INFO - account_metrics.xlsx 为空或不存在，回报率设为 0
2025-06-04 17:21:58,232 - TradingBot - INFO - 成功写入 14 条指标到 data/account_metrics.xlsx，Run_ID=2025-06-04_172118
2025-06-04 17:21:58,232 - TradingBot - INFO - ✅ 交易引擎执行完成 | RunID: 2025-06-04_172118
2025-06-04 17:21:58,233 - TradingBot - INFO - 当前日期: 2025-06-04, Run_ID: 2025-06-04_172118
2025-06-04 17:21:58,239 - TradingBot - INFO - 读取 data/positions_output.csv，去重后包含 14 条记录
2025-06-04 17:21:58,240 - TradingBot - INFO - 所有 Run_ID: ['2025-06-04_172118']
2025-06-04 17:21:58,240 - TradingBot - INFO - 所有调仓日期: ['2025-06-04']
2025-06-04 17:21:58,241 - TradingBot - INFO - 找到 14 条 Run_ID=2025-06-04_172118 或日期=2025-06-04 的记录
2025-06-04 17:21:58,241 - TradingBot - INFO - 已提取所需字段的持仓数据
2025-06-04 17:21:58,243 - TradingBot - INFO - 正持仓数量: 7, 负持仓数量: 7
2025-06-04 17:21:58,246 - TradingBot - INFO - 资金费率文件 data/pos20250604_v3.csv 已加载，去重后包含 173 条记录
2025-06-04 17:21:58,247 - TradingBot - INFO - 已为 7 个黑名单币种设置 ErrorReason: 黑名单过滤
2025-06-04 17:21:58,249 - TradingBot - INFO - 已为 22 个币种映射其他错误原因
2025-06-04 17:21:58,251 - TradingBot - INFO - 正持仓资金费率数据已筛选，最大 id: 7
2025-06-04 17:21:58,256 - TradingBot - INFO - 正持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-04 17:21:58,257 - TradingBot - INFO - 负持仓资金费率数据已筛选，最小 id: 151
2025-06-04 17:21:58,261 - TradingBot - INFO - 负持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-04 17:21:58,263 - TradingBot - INFO - 正负持仓结果已合并
2025-06-04 17:21:58,902 - TradingBot - INFO - 分析结果已去重并追加写入文件: data/position_analysis.xlsx，记录数: 30
2025-06-04 17:21:58,929 - TradingBot - INFO - 唯一日期数量为 1，少于3天，不执行可视化
2025-06-04 17:21:58,940 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-06-04 17:21:58,940 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-06-04_account_metrics_data_visualization.pdf
2025-06-04 17:21:58,951 - TradingBot - INFO - 尝试连接到 smtp.gmail.com:465 (第 1/5)
2025-06-04 17:22:20,014 - TradingBot - ERROR - 发送邮件失败 (第 1/5): [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2025-06-04 17:22:20,015 - TradingBot - INFO - 等待 10 秒后重试...
2025-06-04 17:22:30,020 - TradingBot - INFO - 尝试连接到 smtp.gmail.com:465 (第 2/5)
2025-06-04 17:22:51,061 - TradingBot - ERROR - 发送邮件失败 (第 2/5): [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2025-06-04 17:22:51,061 - TradingBot - INFO - 等待 10 秒后重试...
