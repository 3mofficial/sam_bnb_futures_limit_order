2025-06-05 16:30:29,222 - TradingBot - INFO - 日志初始化成功，当前日志文件: logs\trading_2025-06-05_163029.log
2025-06-05 16:30:29,222 - TradingBot - INFO - 交易程序启动，进入日内多次换仓模式
2025-06-05 16:30:29,266 - TradingBot - INFO - 初始化空分析文件: data/position_analysis.xlsx
2025-06-05 16:30:29,563 - TradingBot - INFO - Binance 客户端初始化成功，测试网络: False
2025-06-05 16:30:29,872 - TradingBot - INFO - 所有交易对已是全仓模式 (CROSSED)，无需修改
2025-06-05 16:30:30,004 - TradingBot - INFO - 账户已是单币种模式 (Single)，无需修改
2025-06-05 16:30:30,124 - TradingBot - INFO - 账户已是单向模式 (One-way)，无需修改
2025-06-05 16:30:30,128 - TradingBot - INFO - 初始化空持仓文件: data/positions_output.csv
2025-06-05 16:30:30,129 - TradingBot - INFO - 检查 20250605 的文件或邮件，Run_ID: 2025-06-05_163030
2025-06-05 16:30:30,129 - TradingBot - INFO - 检查本地文件: data/pos20250605_v3.csv
2025-06-05 16:30:30,129 - TradingBot - INFO - 本地找到文件 data/pos20250605_v3.csv，哈希: f2d6d69cc10d49563db93aaffd43c314，未处理，直接使用
2025-06-05 16:30:30,129 - TradingBot - INFO - 处理 20250605 的pos文件，Run_ID: 2025-06-05_163030
2025-06-05 16:30:30,129 - TradingBot - INFO - 🚀 开始执行交易引擎 | Date: 20250605 | RunID: 2025-06-05_163030
2025-06-05 16:30:30,244 - TradingBot - INFO - 当前没有未成交的挂单
2025-06-05 16:30:30,255 - TradingBot - INFO - 📋 黑名单过滤结果
├─ 被过滤币种 (7个): BADGERUSDT, BALUSDT, LINAUSDT, NULSUSDT, SNTUSDT, TROYUSDT, VIDTUSDT
└─ 剩余候选池: 166/173
2025-06-05 16:30:30,268 - TradingBot - INFO - 🔍 有效候选列表
├─ 多头候选: 83个
└─ 空头候选: 83个
2025-06-05 16:30:30,531 - TradingBot - INFO - =====账户信息获取成功: totalMarginBalance = 50.17521669, available_balance = 6.25974228=====
2025-06-05 16:30:30,531 - TradingBot - INFO - 每笔交易资金份额: per_share=3.226801192142857
2025-06-05 16:30:30,649 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:30:30,649 - TradingBot - INFO - 当前持仓: {'DEXEUSDT': -0.97, 'ZECUSDT': -0.191, 'STXUSDT': 13.0, 'IOTAUSDT': 52.5, 'DENTUSDT': 12245.0, 'XMRUSDT': 0.03, 'DOGEUSDT': -50.0, 'XLMUSDT': 36.0, 'AERGOUSDT': -70.0, 'BELUSDT': -31.0, 'STEEMUSDT': -70.0, 'GRTUSDT': 101.0, 'AUCTIONUSDT': -0.9, 'CKBUSDT': 2331.0}, 是否第一天: False
2025-06-05 16:30:30,828 - TradingBot - INFO - 交易所信息获取成功
2025-06-05 16:30:30,829 - TradingBot - WARNING - 交易对 MDTUSDT 不可交易，跳过
2025-06-05 16:30:30,829 - TradingBot - WARNING - 交易对 WAVESUSDT 不可交易，跳过
2025-06-05 16:30:30,829 - TradingBot - WARNING - 交易对 STRAXUSDT 不可交易，跳过
2025-06-05 16:30:30,829 - TradingBot - WARNING - 交易对 DGBUSDT 不可交易，跳过
2025-06-05 16:30:30,830 - TradingBot - WARNING - 交易对 SCUSDT 不可交易，跳过
2025-06-05 16:30:31,243 - TradingBot - WARNING - BTCUSDT 数量调整为 0 (原值: 0 小于最小值: 0.001)
2025-06-05 16:30:31,243 - TradingBot - WARNING - BTCUSDT 数量调整为 0 (因名义价值 0.0 小于最小值 100.0)
2025-06-05 16:30:31,245 - TradingBot - INFO - BTCUSDT 数量调整: 9.259795868685278e-05 -> 0, 最小值: 0.001, 最大值: 1000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:30:31,245 - TradingBot - WARNING - BTCUSDT 数量调整为 0，跳过
2025-06-05 16:30:31,645 - TradingBot - INFO - XMRUSDT 数量调整: 0.029066789504049274 -> 0.029, 最小值: 0.001, 最大值: 10000.0, 名义价值=9.65816, 真实保证金=3.219387, 数量精度=3
2025-06-05 16:30:31,646 - TradingBot - INFO - 添加多头目标: XMRUSDT, 数量=0.029
2025-06-05 16:30:31,647 - TradingBot - WARNING - 交易对 RENUSDT 不可交易，跳过
2025-06-05 16:30:32,051 - TradingBot - INFO - CKBUSDT 数量调整: 2389.0433308066563 -> 2389.0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=9.680228, 真实保证金=3.226743, 数量精度=0
2025-06-05 16:30:32,052 - TradingBot - INFO - 添加多头目标: CKBUSDT, 数量=2389.0
2025-06-05 16:30:32,461 - TradingBot - INFO - GRTUSDT 数量调整: 102.81894398755784 -> 103.0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=9.69745, 真实保证金=3.232483, 数量精度=0
2025-06-05 16:30:32,462 - TradingBot - INFO - 添加多头目标: GRTUSDT, 数量=103.0
2025-06-05 16:30:32,929 - TradingBot - INFO - STXUSDT 数量调整: 12.907204768571427 -> 13.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.75, 真实保证金=3.250000, 数量精度=0
2025-06-05 16:30:32,930 - TradingBot - INFO - 添加多头目标: STXUSDT, 数量=13.0
2025-06-05 16:30:33,351 - TradingBot - INFO - XLMUSDT 数量调整: 36.533960736795 -> 37.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.803889999999999, 真实保证金=3.267963, 数量精度=0
2025-06-05 16:30:33,353 - TradingBot - INFO - 添加多头目标: XLMUSDT, 数量=37.0
2025-06-05 16:30:33,771 - TradingBot - INFO - DENTUSDT 数量调整: 13352.280795073892 -> 13352.0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=9.6802, 真实保证金=3.226733, 数量精度=0
2025-06-05 16:30:33,773 - TradingBot - INFO - 添加多头目标: DENTUSDT, 数量=13352.0
2025-06-05 16:30:33,773 - TradingBot - WARNING - 交易对 UNFIUSDT 不可交易，跳过
2025-06-05 16:30:34,170 - TradingBot - INFO - IOTAUSDT 数量调整: 53.453360444111375 -> 53.5, 最小值: 0.1, 最大值: 1000000.0, 名义价值=9.68885, 真实保证金=3.229617, 数量精度=1
2025-06-05 16:30:34,172 - TradingBot - INFO - 添加多头目标: IOTAUSDT, 数量=53.5
2025-06-05 16:30:34,581 - TradingBot - INFO - BELUSDT 数量调整: 34.0379872588909 -> 34.0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=9.669599999999999, 真实保证金=3.223200, 数量精度=0
2025-06-05 16:30:34,583 - TradingBot - INFO - 添加空头目标: BELUSDT, 数量=-34.0
2025-06-05 16:30:35,006 - TradingBot - INFO - DEXEUSDT 数量调整: 0.9942896031664513 -> 0.99, 最小值: 0.01, 最大值: 800000.0, 名义价值=9.63864, 真实保证金=3.212880, 数量精度=2
2025-06-05 16:30:35,007 - TradingBot - INFO - 添加空头目标: DEXEUSDT, 数量=-0.99
2025-06-05 16:30:35,427 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.9189674934904661 -> 0.92, 最小值: 0.01, 最大值: 100000.0, 名义价值=9.69128, 真实保证金=3.230427, 数量精度=2
2025-06-05 16:30:35,428 - TradingBot - INFO - 添加空头目标: AUCTIONUSDT, 数量=-0.92
2025-06-05 16:30:35,428 - TradingBot - WARNING - 交易对 OMGUSDT 不可交易，跳过
2025-06-05 16:30:35,824 - TradingBot - INFO - ZECUSDT 数量调整: 0.19399606365588318 -> 0.194, 最小值: 0.001, 最大值: 6000.0, 名义价值=9.6806, 真实保证金=3.226867, 数量精度=3
2025-06-05 16:30:35,825 - TradingBot - INFO - 添加空头目标: ZECUSDT, 数量=-0.194
2025-06-05 16:30:35,825 - TradingBot - WARNING - 交易对 XEMUSDT 不可交易，跳过
2025-06-05 16:30:35,826 - TradingBot - WARNING - 交易对 FTTUSDT 不可交易，跳过
2025-06-05 16:30:36,222 - TradingBot - INFO - AERGOUSDT 数量调整: 76.0440186679385 -> 76.0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=9.6748, 真实保证金=3.224933, 数量精度=0
2025-06-05 16:30:36,223 - TradingBot - INFO - 添加空头目标: AERGOUSDT, 数量=-76.0
2025-06-05 16:30:36,660 - TradingBot - INFO - STEEMUSDT 数量调整: 71.42100912224119 -> 71.0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=9.623339999999999, 真实保证金=3.207780, 数量精度=0
2025-06-05 16:30:36,662 - TradingBot - INFO - 添加空头目标: STEEMUSDT, 数量=-71.0
2025-06-05 16:30:36,662 - TradingBot - WARNING - 交易对 AMBUSDT 不可交易，跳过
2025-06-05 16:30:37,066 - TradingBot - INFO - DOGEUSDT 数量调整: 51.28147256676681 -> 51.0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=9.62727, 真实保证金=3.209090, 数量精度=0
2025-06-05 16:30:37,066 - TradingBot - INFO - 添加空头目标: DOGEUSDT, 数量=-51.0
2025-06-05 16:30:37,066 - TradingBot - INFO - 初始化目标持仓: {'XMRUSDT': 0.029, 'CKBUSDT': 2389.0, 'GRTUSDT': 103.0, 'STXUSDT': 13.0, 'XLMUSDT': 37.0, 'DENTUSDT': 13352.0, 'IOTAUSDT': 53.5, 'BELUSDT': -34.0, 'DEXEUSDT': -0.99, 'AUCTIONUSDT': -0.92, 'ZECUSDT': -0.194, 'AERGOUSDT': -76.0, 'STEEMUSDT': -71.0, 'DOGEUSDT': -51.0}
2025-06-05 16:30:37,193 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:30:37,194 - TradingBot - INFO - ==================== 开始持续限价单调仓 ====================
2025-06-05 16:30:37,194 - TradingBot - INFO - 开始第 1 轮调仓...
2025-06-05 16:30:37,320 - TradingBot - INFO - 第 1 轮开始时可用余额: 6.27085506
2025-06-05 16:30:37,436 - TradingBot - INFO - 第 1 轮: 处理平仓 XMRUSDT SELL, 需求数量=0.0009999999999999974
2025-06-05 16:30:37,846 - TradingBot - INFO - XMRUSDT 平仓数量调整: 0.0009999999999999974 -> 0.001, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.33296, 真实保证金=0.110987, 数量精度=3
2025-06-05 16:30:37,847 - TradingBot - INFO - 第 1 轮: XMRUSDT 平仓调整后数量=0.001
2025-06-05 16:30:37,848 - TradingBot - INFO - 第 1 轮: XMRUSDT 为平仓操作，跳过余额检查
2025-06-05 16:30:37,958 - TradingBot - INFO - 第 1 轮: 准备平仓挂单 XMRUSDT SELL, 数量=0.001, 价格=332.96, is_close=True
2025-06-05 16:30:38,084 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:30:38,084 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=True
2025-06-05 16:30:38,237 - TradingBot - INFO - XMRUSDT 为平仓订单 (reduceOnly=True)，跳过保证金检查
2025-06-05 16:30:38,355 - TradingBot - ERROR - XMRUSDT postonly 挂单失败: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history, is_close=True
2025-06-05 16:30:38,356 - TradingBot - INFO - 第 1 轮: XMRUSDT 平仓挂单结果 success=False, order_id=0, order=APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history
2025-06-05 16:30:38,356 - TradingBot - ERROR - 第 1 轮: XMRUSDT SELL postOnly 挂单失败，错误: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history
2025-06-05 16:30:39,152 - TradingBot - INFO - XMRUSDT 平仓数量调整: 0.0009999999999999974 -> 0.001, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.33297000000000004, 真实保证金=0.110990, 数量精度=3
2025-06-05 16:30:39,305 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:30:39,305 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=True
2025-06-05 16:30:39,452 - TradingBot - INFO - XMRUSDT 为平仓订单 (reduceOnly=True)，跳过保证金检查
2025-06-05 16:30:39,567 - TradingBot - ERROR - XMRUSDT postonly 挂单失败: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history, is_close=True
2025-06-05 16:30:39,567 - TradingBot - WARNING - 第 1 轮: XMRUSDT 重试挂单失败: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history
2025-06-05 16:30:41,212 - TradingBot - INFO - XMRUSDT 平仓数量调整: 0.0009999999999999974 -> 0.001, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.33316, 真实保证金=0.111053, 数量精度=3
2025-06-05 16:30:41,359 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:30:41,359 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=True
2025-06-05 16:30:41,503 - TradingBot - INFO - XMRUSDT 为平仓订单 (reduceOnly=True)，跳过保证金检查
2025-06-05 16:30:41,629 - TradingBot - ERROR - XMRUSDT postonly 挂单失败: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history, is_close=True
2025-06-05 16:30:41,631 - TradingBot - WARNING - 第 1 轮: XMRUSDT 重试挂单失败: APIError(code=-5022): Due to the order could not be executed as maker, the Post Only order will be rejected. The order will not be recorded in the order history
2025-06-05 16:30:43,383 - TradingBot - INFO - XMRUSDT 平仓数量调整: 0.0009999999999999974 -> 0.001, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.33329000000000003, 真实保证金=0.111097, 数量精度=3
2025-06-05 16:30:43,498 - TradingBot - INFO - XMRUSDT 杠杆设置为 3
2025-06-05 16:30:43,498 - TradingBot - INFO - XMRUSDT 杠杆已设置为 3, is_close=True
2025-06-05 16:30:43,636 - TradingBot - INFO - XMRUSDT 为平仓订单 (reduceOnly=True)，跳过保证金检查
2025-06-05 16:30:43,746 - TradingBot - INFO - XMRUSDT postonly 挂单成功: 方向=SELL, 数量=0.001, 价格=333.29, 订单ID=12463160654, is_close=True, reduceOnly=True
2025-06-05 16:30:43,861 - TradingBot - INFO - 第 1 轮: XMRUSDT SELL postOnly 挂单重试成功，订单ID=12463160654
2025-06-05 16:30:43,861 - TradingBot - INFO - 第 1 轮开仓前可用余额: 6.27085506, 开仓需求: {'ZECUSDT': -0.0030000000000000027, 'BELUSDT': -3.0, 'AERGOUSDT': -6.0, 'IOTAUSDT': 1.0, 'GRTUSDT': 2.0, 'STEEMUSDT': -1.0, 'AUCTIONUSDT': -0.020000000000000018, 'XMRUSDT': -0.0009999999999999974, 'DOGEUSDT': -1.0, 'DENTUSDT': 1107.0, 'DEXEUSDT': -0.020000000000000018, 'CKBUSDT': 58.0, 'XLMUSDT': 1.0}
2025-06-05 16:30:43,862 - TradingBot - INFO - 第 1 轮: 处理开仓 ZECUSDT SELL, 需求数量=-0.0030000000000000027
2025-06-05 16:30:44,267 - TradingBot - WARNING - ZECUSDT 数量调整为 0 (因名义价值 0.14973 小于最小值 5.0)
2025-06-05 16:30:44,267 - TradingBot - INFO - ZECUSDT 数量调整: 0.0030000000000000027 -> 0, 最小值: 0.001, 最大值: 6000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:30:44,268 - TradingBot - INFO - 第 1 轮: ZECUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:44,269 - TradingBot - WARNING - 第 1 轮: ZECUSDT 调整数量为 0，跳过
2025-06-05 16:30:44,269 - TradingBot - INFO - 第 1 轮: 处理开仓 BELUSDT SELL, 需求数量=-3.0
2025-06-05 16:30:44,893 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.8538000000000001 小于最小值 5.0)
2025-06-05 16:30:44,893 - TradingBot - INFO - BELUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:44,895 - TradingBot - INFO - 第 1 轮: BELUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:44,895 - TradingBot - WARNING - 第 1 轮: BELUSDT 调整数量为 0，跳过
2025-06-05 16:30:44,895 - TradingBot - INFO - 第 1 轮: 处理开仓 AERGOUSDT SELL, 需求数量=-6.0
2025-06-05 16:30:45,509 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 0.7634400000000001 小于最小值 5.0)
2025-06-05 16:30:45,510 - TradingBot - INFO - AERGOUSDT 数量调整: 6.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:45,511 - TradingBot - INFO - 第 1 轮: AERGOUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:45,511 - TradingBot - WARNING - 第 1 轮: AERGOUSDT 调整数量为 0，跳过
2025-06-05 16:30:45,511 - TradingBot - INFO - 第 1 轮: 处理开仓 IOTAUSDT BUY, 需求数量=1.0
2025-06-05 16:30:45,929 - TradingBot - WARNING - IOTAUSDT 数量调整为 0 (因名义价值 0.1812 小于最小值 5.0)
2025-06-05 16:30:45,929 - TradingBot - INFO - IOTAUSDT 数量调整: 1.0 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-05 16:30:45,931 - TradingBot - INFO - 第 1 轮: IOTAUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:45,931 - TradingBot - WARNING - 第 1 轮: IOTAUSDT 调整数量为 0，跳过
2025-06-05 16:30:45,931 - TradingBot - INFO - 第 1 轮: 处理开仓 GRTUSDT BUY, 需求数量=2.0
2025-06-05 16:30:46,352 - TradingBot - WARNING - GRTUSDT 数量调整为 0 (因名义价值 0.18834 小于最小值 5.0)
2025-06-05 16:30:46,352 - TradingBot - INFO - GRTUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:46,353 - TradingBot - INFO - 第 1 轮: GRTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:46,353 - TradingBot - WARNING - 第 1 轮: GRTUSDT 调整数量为 0，跳过
2025-06-05 16:30:46,353 - TradingBot - INFO - 第 1 轮: 处理开仓 STEEMUSDT SELL, 需求数量=-1.0
2025-06-05 16:30:46,777 - TradingBot - WARNING - STEEMUSDT 数量调整为 0 (因名义价值 0.13562000000000002 小于最小值 5.0)
2025-06-05 16:30:46,777 - TradingBot - INFO - STEEMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:46,778 - TradingBot - INFO - 第 1 轮: STEEMUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:46,778 - TradingBot - WARNING - 第 1 轮: STEEMUSDT 调整数量为 0，跳过
2025-06-05 16:30:46,778 - TradingBot - INFO - 第 1 轮: 处理开仓 AUCTIONUSDT SELL, 需求数量=-0.020000000000000018
2025-06-05 16:30:47,213 - TradingBot - WARNING - AUCTIONUSDT 数量调整为 0 (因名义价值 0.21078 小于最小值 5.0)
2025-06-05 16:30:47,213 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 100000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:30:47,215 - TradingBot - INFO - 第 1 轮: AUCTIONUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:47,215 - TradingBot - WARNING - 第 1 轮: AUCTIONUSDT 调整数量为 0，跳过
2025-06-05 16:30:47,215 - TradingBot - INFO - 第 1 轮: 处理开仓 XMRUSDT SELL, 需求数量=-0.0009999999999999974
2025-06-05 16:30:47,719 - TradingBot - WARNING - XMRUSDT 数量调整为 0 (因名义价值 0.33322 小于最小值 5.0)
2025-06-05 16:30:47,719 - TradingBot - INFO - XMRUSDT 数量调整: 0.0009999999999999974 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:30:47,721 - TradingBot - INFO - 第 1 轮: XMRUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:47,721 - TradingBot - WARNING - 第 1 轮: XMRUSDT 调整数量为 0，跳过
2025-06-05 16:30:47,722 - TradingBot - INFO - 第 1 轮: 处理开仓 DOGEUSDT SELL, 需求数量=-1.0
2025-06-05 16:30:48,200 - TradingBot - WARNING - DOGEUSDT 数量调整为 0 (因名义价值 0.1889 小于最小值 5.0)
2025-06-05 16:30:48,200 - TradingBot - INFO - DOGEUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:48,202 - TradingBot - INFO - 第 1 轮: DOGEUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:48,202 - TradingBot - WARNING - 第 1 轮: DOGEUSDT 调整数量为 0，跳过
2025-06-05 16:30:48,202 - TradingBot - INFO - 第 1 轮: 处理开仓 DENTUSDT BUY, 需求数量=1107.0
2025-06-05 16:30:49,081 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.8025749999999999 小于最小值 5.0)
2025-06-05 16:30:49,081 - TradingBot - INFO - DENTUSDT 数量调整: 1107.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:49,082 - TradingBot - INFO - 第 1 轮: DENTUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:49,082 - TradingBot - WARNING - 第 1 轮: DENTUSDT 调整数量为 0，跳过
2025-06-05 16:30:49,082 - TradingBot - INFO - 第 1 轮: 处理开仓 DEXEUSDT SELL, 需求数量=-0.020000000000000018
2025-06-05 16:30:49,836 - TradingBot - WARNING - DEXEUSDT 数量调整为 0 (因名义价值 0.19492 小于最小值 5.0)
2025-06-05 16:30:49,836 - TradingBot - INFO - DEXEUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 800000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:30:49,838 - TradingBot - INFO - 第 1 轮: DEXEUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:49,838 - TradingBot - WARNING - 第 1 轮: DEXEUSDT 调整数量为 0，跳过
2025-06-05 16:30:49,838 - TradingBot - INFO - 第 1 轮: 处理开仓 CKBUSDT BUY, 需求数量=58.0
2025-06-05 16:30:50,283 - TradingBot - WARNING - CKBUSDT 数量调整为 0 (因名义价值 0.23513199999999998 小于最小值 5.0)
2025-06-05 16:30:50,283 - TradingBot - INFO - CKBUSDT 数量调整: 58.0 -> 0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:50,284 - TradingBot - INFO - 第 1 轮: CKBUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:50,285 - TradingBot - WARNING - 第 1 轮: CKBUSDT 调整数量为 0，跳过
2025-06-05 16:30:50,285 - TradingBot - INFO - 第 1 轮: 处理开仓 XLMUSDT BUY, 需求数量=1.0
2025-06-05 16:30:50,771 - TradingBot - WARNING - XLMUSDT 数量调整为 0 (因名义价值 0.26498000000000005 小于最小值 5.0)
2025-06-05 16:30:50,771 - TradingBot - INFO - XLMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:30:50,773 - TradingBot - INFO - 第 1 轮: XLMUSDT 开仓调整后数量=0, is_reverse_open=False
2025-06-05 16:30:50,773 - TradingBot - WARNING - 第 1 轮: XLMUSDT 调整数量为 0，跳过
2025-06-05 16:30:50,773 - TradingBot - INFO - 第 1 轮挂单等待，最多 30 秒...
2025-06-05 16:31:22,740 - TradingBot - INFO - 第 1 轮结束，取消所有未成交挂单...
2025-06-05 16:31:22,859 - TradingBot - INFO - 第 1 轮: 发现 1 个未成交订单
2025-06-05 16:31:22,974 - TradingBot - INFO - 成功取消 XMRUSDT 订单，订单ID=12463160654
2025-06-05 16:31:22,974 - TradingBot - INFO - 第 1 轮: 成功取消 XMRUSDT SELL 挂单，订单ID=12463160654
2025-06-05 16:31:23,096 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:31:23,505 - TradingBot - WARNING - ZECUSDT 数量调整为 0 (因名义价值 0.14976 小于最小值 5.0)
2025-06-05 16:31:23,505 - TradingBot - INFO - ZECUSDT 数量调整: 0.0030000000000000027 -> 0, 最小值: 0.001, 最大值: 6000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:31:23,507 - TradingBot - INFO - 第 1 轮: ZECUSDT 差值 -0.0030000000000000027 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:24,060 - TradingBot - WARNING - BELUSDT 数量调整为 0 (因名义价值 0.8534999999999999 小于最小值 5.0)
2025-06-05 16:31:24,060 - TradingBot - INFO - BELUSDT 数量调整: 3.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:24,062 - TradingBot - INFO - 第 1 轮: BELUSDT 差值 -3.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:24,469 - TradingBot - WARNING - AERGOUSDT 数量调整为 0 (因名义价值 0.7637399999999999 小于最小值 5.0)
2025-06-05 16:31:24,469 - TradingBot - INFO - AERGOUSDT 数量调整: 6.0 -> 0, 最小值: 1.0, 最大值: 4000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:24,470 - TradingBot - INFO - 第 1 轮: AERGOUSDT 差值 -6.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:24,884 - TradingBot - WARNING - IOTAUSDT 数量调整为 0 (因名义价值 0.1812 小于最小值 5.0)
2025-06-05 16:31:24,884 - TradingBot - INFO - IOTAUSDT 数量调整: 1.0 -> 0, 最小值: 0.1, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=1
2025-06-05 16:31:24,885 - TradingBot - INFO - 第 1 轮: IOTAUSDT 差值 1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:25,279 - TradingBot - WARNING - GRTUSDT 数量调整为 0 (因名义价值 0.18832 小于最小值 5.0)
2025-06-05 16:31:25,280 - TradingBot - INFO - GRTUSDT 数量调整: 2.0 -> 0, 最小值: 1.0, 最大值: 1000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:25,281 - TradingBot - INFO - 第 1 轮: GRTUSDT 差值 2.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:25,817 - TradingBot - WARNING - STEEMUSDT 数量调整为 0 (因名义价值 0.13563 小于最小值 5.0)
2025-06-05 16:31:25,818 - TradingBot - INFO - STEEMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 2000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:25,819 - TradingBot - INFO - 第 1 轮: STEEMUSDT 差值 -1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:26,242 - TradingBot - WARNING - AUCTIONUSDT 数量调整为 0 (因名义价值 0.21082 小于最小值 5.0)
2025-06-05 16:31:26,242 - TradingBot - INFO - AUCTIONUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 100000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:31:26,243 - TradingBot - INFO - 第 1 轮: AUCTIONUSDT 差值 -0.020000000000000018 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:26,815 - TradingBot - WARNING - XMRUSDT 数量调整为 0 (因名义价值 0.33251 小于最小值 5.0)
2025-06-05 16:31:26,815 - TradingBot - INFO - XMRUSDT 数量调整: 0.0009999999999999974 -> 0, 最小值: 0.001, 最大值: 10000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=3
2025-06-05 16:31:26,817 - TradingBot - INFO - 第 1 轮: XMRUSDT 差值 -0.0009999999999999974 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:27,212 - TradingBot - WARNING - DOGEUSDT 数量调整为 0 (因名义价值 0.18883 小于最小值 5.0)
2025-06-05 16:31:27,213 - TradingBot - INFO - DOGEUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 50000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:27,213 - TradingBot - INFO - 第 1 轮: DOGEUSDT 差值 -1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:27,618 - TradingBot - WARNING - DENTUSDT 数量调整为 0 (因名义价值 0.8025749999999999 小于最小值 5.0)
2025-06-05 16:31:27,618 - TradingBot - INFO - DENTUSDT 数量调整: 1107.0 -> 0, 最小值: 1.0, 最大值: 500000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:27,619 - TradingBot - INFO - 第 1 轮: DENTUSDT 差值 1107.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:28,020 - TradingBot - WARNING - DEXEUSDT 数量调整为 0 (因名义价值 0.19533999999999999 小于最小值 5.0)
2025-06-05 16:31:28,020 - TradingBot - INFO - DEXEUSDT 数量调整: 0.020000000000000018 -> 0, 最小值: 0.01, 最大值: 800000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=2
2025-06-05 16:31:28,023 - TradingBot - INFO - 第 1 轮: DEXEUSDT 差值 -0.020000000000000018 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:28,477 - TradingBot - WARNING - CKBUSDT 数量调整为 0 (因名义价值 0.235074 小于最小值 5.0)
2025-06-05 16:31:28,478 - TradingBot - INFO - CKBUSDT 数量调整: 58.0 -> 0, 最小值: 1.0, 最大值: 20000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:28,479 - TradingBot - INFO - 第 1 轮: CKBUSDT 差值 58.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:28,886 - TradingBot - WARNING - XLMUSDT 数量调整为 0 (因名义价值 0.26499 小于最小值 5.0)
2025-06-05 16:31:28,886 - TradingBot - INFO - XLMUSDT 数量调整: 1.0 -> 0, 最小值: 1.0, 最大值: 10000000.0, 名义价值=0.0, 真实保证金=0.000000, 数量精度=0
2025-06-05 16:31:28,887 - TradingBot - INFO - 第 1 轮: XLMUSDT 差值 1.0 为小额调整（名义价值 0.0 < 5 或数量过小），跳过后续轮次
2025-06-05 16:31:28,888 - TradingBot - INFO - 第 1 轮完成，剩余需求: {}
2025-06-05 16:31:28,888 - TradingBot - INFO - 第 1 轮后所有目标已达成，结束限价单调仓
2025-06-05 16:31:28,888 - TradingBot - INFO - ==================== 市价单补齐：后续调仓 ====================
2025-06-05 16:31:29,000 - TradingBot - INFO - 获取到 14 个非零持仓
2025-06-05 16:31:29,000 - TradingBot - INFO - 市价单补齐：所有目标已达成，无需补齐
2025-06-05 16:31:29,116 - TradingBot - INFO - 准备保存 14 条持仓记录，Run_ID=2025-06-05_163030, 调仓日期=2025-06-05
2025-06-05 16:31:29,132 - TradingBot - INFO - 持仓数据已保存到 data/positions_output.csv，合并后记录数: 14
2025-06-05 16:31:29,143 - TradingBot - INFO - 验证: data/positions_output.csv 中 Run_ID=2025-06-05_163030 的记录数: 14
2025-06-05 16:31:29,567 - TradingBot - ERROR - 获取 SXPUSDT 交易历史失败: HTTPSConnectionPool(host='api.binance.com', port=443): Max retries exceeded with url: /api/v3/myTrades?endTime=1749112289143&recvWindow=10000&startTime=1749112230129&symbol=SXPUSDT&timestamp=1749112289525&signature=1ea05c60c7bc7b2146e32b47b4f810c22e126b01b45e6bbd1a308056c77daf27 (Caused by ProxyError('Cannot connect to proxy.', RemoteDisconnected('Remote end closed connection without response')))
2025-06-05 16:31:52,040 - TradingBot - INFO - 账户信息已保存为JSON文件: data/account_info_20250605_163152.json
2025-06-05 16:31:52,040 - TradingBot - INFO - 开始计算手续费和已实现盈亏...
2025-06-05 16:31:52,040 - TradingBot - INFO - 使用实际交易时间戳: start_time=1749112230129, end_time=1749112289143
2025-06-05 16:31:52,040 - TradingBot - INFO - 开始获取手续费记录: start_time=1749112230129, end_time=1749112289143, limit=1000
2025-06-05 16:31:52,159 - TradingBot - INFO - API返回空记录，可能该时间段内没有交易
2025-06-05 16:31:52,159 - TradingBot - INFO - 获取到 0 条手续费记录
2025-06-05 16:31:52,159 - TradingBot - INFO - 手续费汇总 (trade_commission_summary_2025-06-05): 0.0 USDT, 记录数: 0
2025-06-05 16:31:52,159 - TradingBot - INFO - 手续费计算结果: {'value': 0.0, 'description': '买卖交易手续费总和', 'date': '2025-06-05_16:31:52', 'records_count': 0}
2025-06-05 16:31:52,159 - TradingBot - INFO - 使用实际交易时间戳: start_time=1749112230129, end_time=1749112289143
2025-06-05 16:31:52,159 - TradingBot - INFO - 获取已实现盈亏记录，时间范围: 1749112230129 (2025-06-05 16:30:30.129000) - 1749112289143 (2025-06-05 16:31:29.143000)
2025-06-05 16:31:52,281 - TradingBot - INFO - Total realized P&L records fetched: 0
2025-06-05 16:31:52,281 - TradingBot - INFO - 获取到 0 条已实现盈亏记录
2025-06-05 16:31:52,281 - TradingBot - INFO - Calculated total realized PNL in USDT: 0
2025-06-05 16:31:52,281 - TradingBot - INFO - Processed realized PnL for 2025-06-05. Total: 0 USDT, Records: 0
2025-06-05 16:31:52,281 - TradingBot - INFO - 已实现盈亏计算结果: {'value': 0, 'description': '买卖交易已实现盈亏总和', 'date': '2025-06-05_16:31:52', 'records_count': 0}
2025-06-05 16:31:52,281 - TradingBot - INFO - 账户信息JSON文件生成已禁用
2025-06-05 16:31:52,290 - TradingBot - INFO - account_metrics.xlsx 不存在，返回空DataFrame
2025-06-05 16:31:52,290 - TradingBot - INFO - account_metrics.xlsx 为空或不存在，回报率设为 0
2025-06-05 16:31:52,713 - TradingBot - INFO - 成功写入 14 条指标到 data/account_metrics.xlsx，Run_ID=2025-06-05_163030
2025-06-05 16:31:52,713 - TradingBot - INFO - ✅ 交易引擎执行完成 | RunID: 2025-06-05_163030
2025-06-05 16:31:52,714 - TradingBot - INFO - 当前日期: 2025-06-05, Run_ID: 2025-06-05_163030
2025-06-05 16:31:52,722 - TradingBot - INFO - 读取 data/positions_output.csv，去重后包含 14 条记录
2025-06-05 16:31:52,722 - TradingBot - INFO - 所有 Run_ID: ['2025-06-05_163030']
2025-06-05 16:31:52,722 - TradingBot - INFO - 所有调仓日期: ['2025-06-05']
2025-06-05 16:31:52,723 - TradingBot - INFO - 找到 14 条 Run_ID=2025-06-05_163030 或日期=2025-06-05 的记录
2025-06-05 16:31:52,725 - TradingBot - INFO - 已提取所需字段的持仓数据
2025-06-05 16:31:52,726 - TradingBot - INFO - 正持仓数量: 7, 负持仓数量: 7
2025-06-05 16:31:52,730 - TradingBot - INFO - 资金费率文件 data/pos20250605_v3.csv 已加载，去重后包含 173 条记录
2025-06-05 16:31:52,733 - TradingBot - INFO - 已为 7 个黑名单币种设置 ErrorReason: 黑名单过滤
2025-06-05 16:31:52,735 - TradingBot - INFO - 已为 25 个币种映射其他错误原因
2025-06-05 16:31:52,738 - TradingBot - INFO - 正持仓资金费率数据已筛选，最大 id: 16
2025-06-05 16:31:52,746 - TradingBot - INFO - 正持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-05 16:31:52,748 - TradingBot - INFO - 负持仓资金费率数据已筛选，最小 id: 163
2025-06-05 16:31:52,750 - TradingBot - INFO - 负持仓数据已完成合并并处理空调仓日期、Run_ID 和 ErrorReason
2025-06-05 16:31:52,752 - TradingBot - INFO - 正负持仓结果已合并
2025-06-05 16:31:53,232 - TradingBot - INFO - 分析结果已去重并追加写入文件: data/position_analysis.xlsx，记录数: 27
2025-06-05 16:31:53,257 - TradingBot - INFO - 唯一日期数量为 1，少于3天，不执行可视化
2025-06-05 16:31:53,266 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-06-05 16:31:53,266 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-06-05_account_metrics_data_visualization.pdf
2025-06-05 16:31:53,278 - TradingBot - INFO - 尝试使用QQ邮箱连接到 smtp.qq.com:465 (第 1/3)
2025-06-05 16:31:53,511 - TradingBot - INFO - 连接成功，开始登录
2025-06-05 16:31:54,550 - TradingBot - INFO - QQ邮箱邮件发送成功！
2025-06-05 16:31:54,597 - TradingBot - ERROR - QQ邮箱发送邮件失败 (第 1/3): (-1, b'\x00\x00\x00')
2025-06-05 16:31:54,598 - TradingBot - INFO - 等待 10 秒后重试...
2025-06-05 16:32:04,601 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-06-05 16:32:04,602 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-06-05_account_metrics_data_visualization.pdf
2025-06-05 16:32:04,603 - TradingBot - INFO - 尝试使用QQ邮箱连接到 smtp.qq.com:465 (第 2/3)
2025-06-05 16:32:04,816 - TradingBot - INFO - 连接成功，开始登录
2025-06-05 16:32:05,704 - TradingBot - INFO - QQ邮箱邮件发送成功！
2025-06-05 16:32:05,752 - TradingBot - ERROR - QQ邮箱发送邮件失败 (第 2/3): (-1, b'\x00\x00\x00')
2025-06-05 16:32:05,753 - TradingBot - INFO - 等待 10 秒后重试...
2025-06-05 16:32:15,765 - TradingBot - INFO - 添加附件: data\position_analysis.xlsx
2025-06-05 16:32:15,765 - TradingBot - INFO - 未找到可视化 PDF 文件: data\2025-06-05_account_metrics_data_visualization.pdf
2025-06-05 16:32:15,766 - TradingBot - INFO - 尝试使用QQ邮箱连接到 smtp.qq.com:465 (第 3/3)
2025-06-05 16:32:15,971 - TradingBot - INFO - 连接成功，开始登录
2025-06-05 16:32:17,144 - TradingBot - INFO - QQ邮箱邮件发送成功！
2025-06-05 16:32:17,194 - TradingBot - ERROR - QQ邮箱发送邮件失败 (第 3/3): (-1, b'\x00\x00\x00')
2025-06-05 16:32:17,195 - TradingBot - ERROR - 达到最大重试次数，邮件发送失败
2025-06-05 16:32:17,195 - TradingBot - INFO - 20250605 交易完成，Run_ID: 2025-06-05_163030
2025-06-05 16:32:17,196 - TradingBot - INFO - 记录已处理文件 data/pos20250605_v3.csv，哈希: f2d6d69cc10d49563db93aaffd43c314，Run_ID: 2025-06-05_163030
2025-06-05 16:32:17,196 - TradingBot - INFO - 交易完成后等待 10 分钟
